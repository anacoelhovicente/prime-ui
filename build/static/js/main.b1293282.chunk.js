(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1166:function(e,n,t){"use strict";t.r(n);t(570),t(572);var a=t(2),i=t.n(a),r=t(145),o=t.n(r),l=t(12),s=t.n(l),d=t(29),c=t(63),u=t(64),m=t(68),p=t(65),f=t(67),v=t(66),k=t(1173),h=t(1174),g=t(644),y=t(1176),b=(t(92),t(9)),E=t(33),S=(t(148),t(52)),w=(t(221),t(51)),N=t(1175),F=t(643),D=t(1171),O=(t(588),w.b.SubMenu,S.a.Header),I=S.a.Content,C=S.a.Sider,x=Object(N.a)(function(e){var n=e.children,t=(e.history,e.location),r=Object(a.useState)(!0),o=Object(E.a)(r,2),l=o[0],s=o[1],d=t.pathname.split("/")[1];return i.a.createElement(S.a,{style:{minHeight:"100vh"}},i.a.createElement(C,{width:280,theme:"dark",trigger:null,collapsed:l,collapsible:!0,className:"prime__sidebar"},i.a.createElement(O,{className:"prime__sidebar__header"},i.a.createElement(F.a,{to:"/",className:"prime__sidebar__logo"},"prime")),i.a.createElement(w.b,{theme:"dark",mode:"inline",className:"prime__sidebar__menu",defaultSelectedKeys:[d],key:d},i.a.createElement(w.b.Item,{key:"documents"},i.a.createElement(D.a,{to:"/documents",className:"nav-text"},i.a.createElement(b.a,{type:"file"}),i.a.createElement("span",null,"Documents"))),i.a.createElement(w.b.Item,{key:"schemas"},i.a.createElement(D.a,{to:"/schemas",className:"nav-text"},i.a.createElement(b.a,{type:"database"}),i.a.createElement("span",null,"Schemas"))),i.a.createElement(w.b.Item,{key:"playground"},i.a.createElement(D.a,{to:"/playground",className:"nav-text"},i.a.createElement(b.a,{type:"code"}),i.a.createElement("span",null,"Playground"))),i.a.createElement(w.b.Item,{key:"settings"},i.a.createElement(D.a,{to:"/settings",className:"nav-text"},i.a.createElement(b.a,{type:"setting"}),i.a.createElement("span",null,"Settings"))),i.a.createElement(w.b.Item,{key:"null",className:"prime__sidebar__spacer"}),i.a.createElement(w.b.Item,{key:"logout",className:"prime__sidebar__logout"},i.a.createElement(D.a,{to:"/logout",className:"nav-text"},i.a.createElement(b.a,{type:"logout"}),i.a.createElement("span",null,"Logout")))),i.a.createElement("div",{className:"prime__sidebar__toggle",onClick:function(){return s(!l)}},i.a.createElement(b.a,{type:"left"}))),i.a.createElement(S.a,null,i.a.createElement(I,{style:{flex:1}},n)))}),A=(t(137),t(72)),j=(t(180),t(88)),T=(t(655),t(257)),P=(t(229),t(101)),V=(t(302),t(104)),R=(t(59),t(19)),L=t(43),q=(t(662),t(215)),M=(t(94),t(36)),B=t(84),G=t(50),$=t(85),_=(t(303),t(108)),z=t(32),U=t(22),W=(t(205),t(96)),K=(t(117),t(62)),H=t(6),Q=t(277),Y=t(140),J=t(120),Z=t(269),X=t(536),ee=t(276),ne=t(56),te=t(57),ae=t.n(te);function ie(){var e=Object(ne.a)(["\n          mutation SystemUpdate($versions: [PackageVersionInput!]!) {\n            updateSystem(versions: $versions)\n          }\n        "]);return ie=function(){return e},e}function re(){var e=Object(ne.a)(["\n          mutation setSettings($input: SettingsInput!) {\n            setSettings(input: $input) {\n              accessType\n              previews {\n                name\n                hostname\n                pathname\n              }\n              locales {\n                id\n                name\n                flag\n                master\n              }\n            }\n          }\n        "]);return re=function(){return e},e}function oe(){var e=Object(ne.a)(["\n          query {\n            system {\n              name\n              currentVersion\n              latestVersion\n            }\n          }\n        "]);return oe=function(){return e},e}function le(){var e=Object(ne.a)(["\n          query {\n            getSettings {\n              accessType\n              previews {\n                name\n                hostname\n                pathname\n              }\n              locales {\n                id\n                name\n                flag\n                master\n              }\n              env\n            }\n            allFields {\n              type\n              title\n              description\n              defaultOptions\n              ui\n            }\n          }\n        "]);return le=function(){return e},e}var se=Object(z.get)(window,"prime.config",""),de="/",ce="",ue={};try{de=(se=JSON.parse(se)).coreUrl||de,ce=se.path||"",ue=se.env||ue}catch(Ja){console.error("Could not parse prime config",Ja)}var me=H.types.model("Preview",{name:H.types.string,hostname:H.types.string,pathname:H.types.optional(H.types.string,"")}).actions(function(e){return{update:function(n){var t=n.name,a=n.hostname,i=n.pathname;e.name=t,e.hostname=a,e.pathname=String(i||"")}}}),pe=H.types.model("Locale",{id:H.types.string,name:H.types.string,flag:H.types.string,master:H.types.optional(H.types.boolean,!1)}).actions(function(e){return{update:function(n){var t=n.id,a=n.name,i=n.flag;e.id=t,e.name=a,e.flag=i},setMaster:function(n){e.master=n}}}),fe=pe.create({id:"en",name:"English",flag:"en",master:!0}),ve=H.types.model("PackageVersion",{name:H.types.string,currentVersion:H.types.maybeNull(H.types.string),latestVersion:H.types.maybeNull(H.types.string)}),ke=H.types.model("Settings",{isProd:!0,coreUrl:de,path:ce,packages:H.types.array(ve),shouldReloadPlayground:!1,env:H.types.frozen(),fields:H.types.frozen(),accessType:H.types.maybeNull(H.types.enumeration("AccessType",["PUBLIC","PRIVATE"])),previews:H.types.array(me),locales:H.types.array(pe)}).views(function(e){return{get masterLocale(){return e.locales.find(function(e){return e.master})||fe}}}).actions(function(e){return{read:Object(H.flow)(s.a.mark(function n(){var t,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.query({query:ae()(le())});case 2:t=n.sent,(a=t.data).getSettings&&(e.accessType=a.getSettings.accessType,e.previews=a.getSettings.previews,e.locales=a.getSettings.locales,e.env=a.getSettings.env),a.allFields&&(e.fields=a.allFields);case 6:case"end":return n.stop()}},n,this)})),readVersion:Object(H.flow)(s.a.mark(function n(){var t,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.query({query:ae()(oe())});case 2:t=n.sent,(a=t.data)&&e.packages.replace(a.system);case 5:case"end":return n.stop()}},n,this)})),save:Object(H.flow)(s.a.mark(function n(){var t,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:ae()(re()),variables:{input:{accessType:e.accessType,previews:e.previews.map(function(e){return{name:e.name,hostname:e.hostname,pathname:e.pathname}}),locales:e.locales.map(function(e){return{id:e.id,name:e.name,flag:e.flag,master:e.master}})}}});case 2:t=n.sent,(a=t.data).setSettings&&(e.accessType=a.setSettings.accessType,e.previews=a.setSettings.previews,e.locales=a.setSettings.locales,e.env=a.setSettings.env),ke.reloadPlayground();case 6:case"end":return n.stop()}},n,this)})),updateSystem:Object(H.flow)(s.a.mark(function n(t){var a,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.map(function(n){var t=e.packages.find(function(e){return e.name===n});return{name:n,version:t&&t.latestVersion}}),n.next=3,Ae.mutate({mutation:ae()(ie()),variables:{versions:a}});case 3:return i=n.sent,n.abrupt("return",i);case 5:case"end":return n.stop()}},n,this)})),reloadPlayground:function(){e.shouldReloadPlayground=!0},reloadPlaygroundAction:function(){if(!e.shouldReloadPlayground)return!1;var n=document.getElementById("playground");if(n){var t=n;try{var a=t.contentDocument||t.contentWindow&&t.contentWindow.document;if(a){var i=a.querySelector('[title="Reload Schema"]');i&&i.click()}}catch(Ja){var r=t.parentNode;r.setAttribute("style","opacity:0; pointer-events: none; position: fixed; top: 0"),r.hidden=!1,t.src=t.src.replace(/\?.*/g,"")+"?"+Math.random(),setTimeout(function(){r.hidden=!0,r.setAttribute("style","")},100)}}e.shouldReloadPlayground=!1},setAccessType:function(n){e.accessType=n},setMasterLocale:function(n){e.locales.forEach(function(e){return e.setMaster(!1)}),n.setMaster(!0)},addPreview:function(n){e.previews.push(me.create(n))},addLocale:function(n){e.locales.push(pe.create(n))},removePreview:function(e){Object(H.destroy)(e)},removeLocale:function(e){Object(H.destroy)(e)}}}).create({accessType:"PUBLIC",previews:[],locales:[],fields:[],env:ue}),he=t(532),ge=t(533),ye=t(534),be=t.n(ye),Ee=ke.coreUrl,Se=new ee.a({uri:"".concat(Ee,"/prime/graphql"),credentials:"include"}),we=Object(Z.a)(function(){return{headers:{"x-prime-token":localStorage.getItem("accounts:accessToken")}}}),Ne=new Y.d({link:Object(J.c)(we,Se),cache:new Q.a}),Fe=new be.a({graphQLClient:Ne}),De=new he.AccountsClient({},Fe),Oe=(new ge.AccountsClientPassword(De),ke.coreUrl),Ie=Object(X.a)(function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.map(function(e){e.extensions&&"FORBIDDEN"===e.extensions.code?M.a.error("Forbidden: "+e.message):console.log("[GraphQL error]: Message: ".concat(e.message,", %o"),e)}),t&&(console.log("[Network error]: %o",t),M.a.error("Network error"))}),Ce=new ee.a({uri:"".concat(Oe,"/prime/graphql"),credentials:"include"}),xe=Object(Z.a)(function(){var e=Object(d.a)(s.a.mark(function e(n,t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.refreshSession();case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),window.location="/";case 9:return e.abrupt("return",{headers:{"x-prime-token":a?a.accessToken:""}});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(n,t){return e.apply(this,arguments)}}()),Ae=new Y.a({link:J.a.from([xe,Ie,Ce]),cache:new Q.a});Ae.defaultOptions={query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"}};var je=t(420),Te=t.n(je),Pe=t(421),Ve=t.n(Pe),Re=t(422),Le=t.n(Re),qe=t(423),Me=t.n(qe),Be=t(424),Ge=t.n(Be),$e=t(425),_e=t.n($e),ze=t(426),Ue=t.n(ze),We=t(427),Ke=t.n(We),He=t(428),Qe=t.n(He),Ye=t(429),Je=t.n(Ye),Ze=(t(430),t(431)),Xe=t.n(Ze),en=t(432),nn=t.n(en),tn=t(433),an=t.n(tn),rn=t(434),on=t.n(rn),ln=t(435),sn=t.n(ln),dn=H.types.model("ContentRelease",{id:H.types.identifier,name:H.types.maybeNull(H.types.string),documentsCount:H.types.number,description:H.types.maybeNull(H.types.string),scheduledAt:H.types.maybeNull(H.types.Date),publishedAt:H.types.maybeNull(H.types.Date),updatedAt:H.types.maybeNull(H.types.Date)}).preProcessSnapshot(function(e){return Object(L.a)({},e,{documentsCount:Number(e.documentsCount||0),scheduledAt:e.scheduledAt?new Date(e.scheduledAt):null,publishedAt:e.publishedAt?new Date(e.publishedAt):null,updatedAt:e.updatedAt?new Date(e.updatedAt):null})}).actions(function(e){return{update:function(n){var t=n.name,a=n.description,i=n.scheduledAt;e.name=t,e.description=a,e.scheduledAt=i?new Date(i):null},publish:Object(H.flow)(s.a.mark(function n(){var t;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:_e.a,variables:{id:e.id}});case 2:(t=n.sent).data&&t.data.publishRelease&&(e.publishedAt=new Date);case 4:case"end":return n.stop()}},n,this)}))}}),cn=t(436),un=t.n(cn),mn=t(437),pn=t.n(mn),fn=t(438),vn=t.n(fn),kn=t(439),hn=t.n(kn),gn=t(440),yn=t.n(gn),bn=t(441),En=t.n(bn),Sn=t(442),wn=t.n(Sn),Nn=t(443),Fn=t.n(Nn),Dn=t(444),On=t.n(Dn),In=t(445),Cn=t.n(In),xn=H.types.model("ContentReleases",{items:H.types.map(H.types.late(function(){return dn})),loading:!1,loaded:!1,error:!1}).views(function(e){return{get list(){var n=Array.from(e.items.values()).filter(function(e){return!e.publishedAt});return n.sort(function(e,n){return String(e.name).localeCompare(String(n.name))}),n}}}).actions(function(e){return{loadAll:Object(H.flow)(s.a.mark(function n(){var t,a,i=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=!(i.length>0&&void 0!==i[0])||i[0],e.loading=!0,t&&e.items.clear(),n.prev=3,n.next=6,Ae.query({query:un.a});case 6:a=n.sent,a.data.allReleases.edges.forEach(function(n){var t=dn.create(n.node);e.items.put(t)}),e.loaded=!0,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),e.error=!0;case 15:e.loading=!1;case 16:case"end":return n.stop()}},n,this,[[3,12]])})),remove:function(e){Object(H.destroy)(e)},add:function(n){e.items.put(n)}}}).create(),An=function(e){return i.a.useEffect(function(){e.visible&&xn.loadAll()},[e.visible]),i.a.createElement(W.a,{visible:e.visible,onCancel:e.onCancel,title:"Select Release",bodyStyle:{padding:0,overflow:"hidden",borderRadius:"0 0 4px 4px"},className:"modal-table-picker",footer:!1},i.a.createElement(v.a,{render:function(){return i.a.createElement(K.a,{showHeader:!1,pagination:!1,locale:{emptyText:"No releases available"},columns:[{key:"title",title:"Title",render:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("strong",null,e.name),i.a.createElement("div",null,e.description))}},{key:"scheduledAt",title:"Scheduled at",render:function(e){return e.scheduledAt?Object(_.format)(e.scheduledAt,"YYYY-MM-DD HH:mm"):"---"}}],rowKey:"id",rowClassName:function(){return"prime-row-click"},dataSource:xn.list,onRow:function(n){return{onClick:function(){"function"===typeof e.onSelect&&e.onSelect(n),"function"===typeof e.onCancel&&e.onCancel()}}}})}}))},jn=t(540),Tn=t.n(jn),Pn=function(e){var n=e.children;return i.a.createElement(S.a.Header,{className:Tn.a.toolbar},n)},Vn=t(541),Rn=t.n(Vn),Ln=H.types.model("SchemaField",{id:H.types.identifier,type:H.types.string,name:H.types.string,title:H.types.string,description:H.types.maybeNull(H.types.string),primary:H.types.optional(H.types.boolean,!1),schemaId:H.types.maybeNull(H.types.string),options:H.types.frozen(),group:"Main",fields:H.types.maybeNull(H.types.array(H.types.late(function(){return Ln}))),__typename:H.types.maybeNull(H.types.string)}).preProcessSnapshot(function(e){return Object(L.a)({},e,{fields:e.fields||[]})}).views(function(e){return{get isLeaf(){return!Object(H.hasParentOfType)(e,Ln)},get defaultOptions(){var n=ke.fields.find(function(n){return n.type===e.type});return n?n.options:{}}}}).actions(function(e){return{update:function(n){e.name=n.name,e.title=n.title,e.description=n.description,e.type=n.type,e.options=n.options},setIsDisplay:function(n){e.primary=n}}}),qn=H.types.model("SchemaGroup",{title:H.types.string,fields:H.types.array(Ln)}),Mn=H.types.model({groups:H.types.optional(H.types.array(qn),[]),hasChanged:!1}).views(function(e){return{get fields(){return e.groups?e.groups.reduce(function(e,n){return n.fields.forEach(function(n){e.push(n),n.fields&&n.fields.forEach(function(n){return e.push(n)})}),e},[]):[]}}}).actions(function(e){return{setHasChanged:function(n){e.hasChanged=n},remove:function(e){Object(H.destroy)(e)},move:function(n,t){var a=e.fields.find(function(e){return e.id===n});if(a){var i=Object(H.getParent)(a);Object(H.detach)(a),i.splice(t,0,a)}},add:function(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Main",i=arguments.length>3?arguments[3]:void 0,r="new-".concat(Array.from({length:5}).map(function(){return 1e5+Math.floor(99999*Math.random())}).join("-")),o=e.fields.find(function(e){return e.id===i}),l=e.groups.find(function(e){return e.title===a}),s=i?o&&o.fields:l&&l.fields,d=Object(H.getParent)(e);if(s){var c=Ln.create({id:r,name:n.name,title:n.title,description:n.description,primary:"string"===n.type&&!e.fields.find(function(e){return e.primary}),schemaId:d.id,type:n.type||"string",group:n.group||"Main",options:{},fields:[]});return s.splice(t,0,c),c}return null},setDisplay:function(n){e.fields.forEach(function(e){return e.setIsDisplay(!1)}),n.setIsDisplay(!0)},addGroup:function(n){e.groups.find(function(e){return e.title.toLowerCase()===n.toLowerCase()})||e.groups.push(qn.create({title:n,fields:[]}))},removeGroup:function(n){var t=e.groups.find(function(e){return e.title===n});t&&Object(H.destroy)(t)}}}),Bn=H.types.enumeration("SchemaVariant",["Default","Template","Slice"]),Gn=H.types.model("ContentType",{id:H.types.identifier,name:H.types.string,title:H.types.string,description:H.types.maybeNull(H.types.string),groups:H.types.array(H.types.string),settings:H.types.frozen(),variant:H.types.optional(Bn,"Default"),documentCount:H.types.maybeNull(H.types.number),fields:H.types.optional(Mn,{groups:[{title:"Main",fields:[]}]})}).preProcessSnapshot(function(e){var n="Template"===e.variant?e.title:"Main",t=e.fields&&Array.isArray(e.fields)?{groups:e.fields}:e.fields;return Object(L.a)({},e,{fields:t,groups:Array.isArray(e.groups)?e.groups:[n]})}).actions(function(e){var n=Object(H.flow)(s.a.mark(function n(){var t,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.query({query:Cn.a,variables:{contentTypeId:e.id},fetchPolicy:"network-only"});case 2:t=n.sent,(a=t.data).getContentTypeSchema&&a.getContentTypeSchema.length>0&&(e.fields=Mn.create({groups:a.getContentTypeSchema}));case 5:case"end":return n.stop()}},n,this)})),t=Object(H.flow)(s.a.mark(function n(){var t,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:on.a,variables:{id:e.id,input:{fields:(r=e.fields.groups,e.id,Object(z.cloneDeepWith)(r,function(e){Object(z.isObject)(e)&&(delete e.__typename,e.id&&"new-"===String(e.id).substr(0,4)&&delete e.id)})).filter(function(n){return[].concat(e.groups).indexOf(n.title)>=0})}}});case 2:return t=n.sent,(i=Object(z.get)(t,"data.updateSchema"))&&a(i),n.abrupt("return",e);case 6:case"end":return n.stop()}var r},n,this)})),a=function(n){n&&Object(H.applySnapshot)(e,n)},i=Object(H.flow)(s.a.mark(function n(t){var i,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:on.a,variables:{id:e.id,input:t}});case 2:i=n.sent,(r=i.data).updateSchema&&a(r.updateSchema),ke.reloadPlayground();case 6:case"end":return n.stop()}},n,this)})),r=Object(H.flow)(s.a.mark(function n(){var t;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:Qe.a,variables:{id:e.id}});case 2:t=n.sent,t.data.removeSchema&&$n.removeById(e.id),ke.reloadPlayground();case 6:case"end":return n.stop()}},n,this)}));return{replace:a,remove:r,update:i,addGroup:function(n){-1===e.groups.indexOf(n)&&e.groups.push(n),e.fields.addGroup(n)},removeGroup:function(n){var t=e.groups.indexOf(n);t>=0&&e.groups.splice(t,1),e.fields.removeGroup(n)},loadSchema:n,saveSchema:t}}),$n=H.types.model("ContentTypes",{items:H.types.map(H.types.late(function(){return Gn})),loading:!1,loaded:!1,error:!1}).views(function(e){return{get list(){var n=Array.from(e.items.values());return n.sort(function(e,n){return e.title.localeCompare(n.title)}),n}}}).actions(function(e){var n=Object(H.flow)(s.a.mark(function n(t){var a,i,r,o,l;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=Array.from(e.items.values()),!(r=i.find(function(e){return e.name.toLocaleLowerCase()===t.toLocaleLowerCase()}))){n.next=4;break}return n.abrupt("return",r);case 4:return n.next=6,Ae.query({query:Fn.a,variables:{name:t},fetchPolicy:"network-only"});case 6:return o=n.sent,(l=o.data).Schema&&(a=Gn.create(l.Schema),e.items.has(a.id)?(a=e.items.get(a.id))&&a.replace(l.Schema):e.items.put(a)),n.abrupt("return",a);case 10:case"end":return n.stop()}},n,this)})),t=Object(H.flow)(s.a.mark(function n(t){var a,i,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.query({query:Fn.a,variables:{id:t},fetchPolicy:"network-only"});case 2:return i=n.sent,(r=i.data).Schema&&(a=Gn.create(r.Schema),e.items.has(t)?(a=e.items.get(t))&&a.replace(r.Schema):e.items.put(a)),n.abrupt("return",a);case 6:case"end":return n.stop()}},n,this)}));return{loadAll:Object(H.flow)(s.a.mark(function n(){var t;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.loading){n.next=4;break}return n.next=3,new Promise(function(n){Object(U.when)(function(){return!1===e.loading},n)});case 3:return n.abrupt("return");case 4:return e.loading=!0,n.prev=5,n.next=8,Ae.query({query:pn.a});case 8:t=n.sent,t.data.allSchemas.edges.forEach(function(n){var t=e.items.get(n.id);if(t)t.replace(n.node);else{var a=Gn.create(n.node);e.items.put(a)}}),e.loaded=!0,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(5),e.error=!0;case 17:e.loading=!1;case 18:case"end":return n.stop()}},n,this,[[5,14]])})),loadById:t,loadByName:n,create:Object(H.flow)(s.a.mark(function n(t){var a,i,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ae.mutate({mutation:Le.a,variables:{input:t}});case 3:if(a=n.sent,!(i=a.data).createSchema){n.next=8;break}return r=Gn.create(i.createSchema),n.abrupt("return",e.items.put(r));case 8:n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(0),new Error(n.t0);case 13:case"end":return n.stop()}},n,this,[[0,10]])})),removeById:function(n){e.items.delete(n)}}}).create();Rn()($n);var _n=H.types.reference(Gn,{get:function(e){return $n.items.get(e)},set:function(e){return e.id}}),zn=H.types.model("Version",{id:H.types.string,publishedAt:H.types.maybeNull(H.types.Date),createdAt:H.types.Date,updatedAt:H.types.Date}).preProcessSnapshot(function(e){return Object(L.a)({},e,{publishedAt:e.publishedAt?new Date(e.publishedAt):null,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})}),Un=H.types.model("ContentEntry",{_id:H.types.identifier,id:H.types.string,documentId:H.types.string,schemaId:H.types.string,releaseId:H.types.maybeNull(H.types.string),locale:H.types.string,primary:H.types.maybeNull(H.types.string),publishedAt:H.types.maybeNull(H.types.Date),schema:H.types.maybeNull(_n),data:H.types.frozen(),createdAt:H.types.Date,updatedAt:H.types.Date,versions:H.types.array(zn),loadedAt:H.types.Date,hasChanged:!1}).preProcessSnapshot(function(e){return Object(L.a)({},e,{_id:e._id?e._id:[e.documentId,e.locale,e.releaseId].join(":"),loadedAt:new Date,schema:e.schemaId?e.schemaId:null,publishedAt:e.publishedAt?new Date(e.publishedAt):null,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})}).views(function(e){return{get display(){return e.data?e.data.title||e.data.name||Object.values(e.data).shift():e.documentId},get hasBeenPublished(){return e.versions.findIndex(function(e){return null!==e.publishedAt})>=0}}}).actions(function(e){var n=function(n){e.id!==n.id?e.versions.splice(0,0,{id:n.id,publishedAt:n.publishedAt?new Date(n.publishedAt):null,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}):e.versions.length>0&&(e.versions[0].publishedAt=n.publishedAt?new Date(n.publishedAt):null,e.versions[0].updatedAt=new Date(n.updatedAt)),e.id=n.id,e.schemaId=n.schemaId,e.releaseId=n.releaseId,e.data=n.data,e.locale=n.locale,e.publishedAt=n.publishedAt?new Date(n.publishedAt):null,e.createdAt=new Date(n.createdAt),e.updatedAt=new Date(n.updatedAt)},t=Object(H.flow)(s.a.mark(function t(a){var i,r,o,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.data,r=a.releaseId,o=a.locale,t.next=3,Ae.mutate({mutation:nn.a,variables:Object(L.a)({id:e.id,data:i},r&&{releaseId:r},o&&{locale:o})});case 3:(l=t.sent).data&&l.data.updateDocument&&n(l.data.updateDocument);case 5:case"end":return t.stop()}},t,this)})),a=Object(H.flow)(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.mutate({mutation:Ge.a,variables:{id:e.id}});case 2:a=t.sent,(i=a.data)&&i.publishDocument&&n(i.publishDocument);case 5:case"end":return t.stop()}},t,this)})),i=Object(H.flow)(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.mutate({mutation:Xe.a,variables:{id:e.id}});case 2:a=t.sent,(i=a.data)&&i.unpublishDocument&&n(i.unpublishDocument);case 5:case"end":return t.stop()}},t,this)}));return{setContentType:function(n){e.schema=n},setHasChanged:function(n){e.hasChanged=n},setIsPublished:function(n){e.publishedAt=n},remove:Object(H.flow)(s.a.mark(function n(){var t,a=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],n.next=3,Ae.mutate({mutation:Ue.a,variables:{id:e.documentId,locale:t?void 0:e.locale,releaseId:t?void 0:e.releaseId}});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)})),update:t,publish:a,unpublish:i}}),Wn=H.types.model("ContentEntries",{items:H.types.map(H.types.late(function(){return Un})),loading:!1,loaded:!1,error:!1}).actions(function(e){return{loadByContentType:Object(H.flow)(s.a.mark(function e(n){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.query({query:En.a,variables:{contentTypeId:n}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a.allDocuments.edges.map(function(e){var n=e.node;return Un.create(Object(L.a)({},n))}));case 5:case"end":return e.stop()}},e,this)})),loadById:Object(H.flow)(s.a.mark(function n(t,a,i){var r,o,l,d;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.loading=!0,r=[t,a,i].join(":"),!((o=e.items.get(r))&&o.loadedAt>new Date(Date.now()-5e3))){n.next=5;break}return n.abrupt("return",o);case 5:return n.next=7,Ae.query({query:wn.a,variables:{id:t,releaseId:i,locale:a}});case 7:return l=n.sent,d=l.data,e.loading=!1,e.loaded=!0,d.Document&&(o=Un.create(d.Document),e.items.put(o)),n.abrupt("return",o);case 13:case"end":return n.stop()}},n,this)})),create:Object(H.flow)(s.a.mark(function n(t){var a,i,r,o,l,d,c,u;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.schemaId,i=t.data,r=t.locale,o=t.releaseId,l=t.documentId,n.next=3,Ae.mutate({mutation:Te.a,variables:{input:{locale:r,schemaId:a,releaseId:o,data:i,documentId:l}}});case 3:if(!(d=n.sent).data){n.next=9;break}return c=d.data.createDocument,u=Un.create(Object(L.a)({},c,{versions:[Object(L.a)({},c)]})),e.items.put(u),n.abrupt("return",u);case 9:return n.abrupt("return",null);case 10:case"end":return n.stop()}},n,this)}))}}).create(),Kn=(t(83),t(18)),Hn=(t(301),t(109)),Qn=t(1172),Yn={};window.prime=window.prime||{},window.prime.fields=Yn,window.prime.registerField=function(e,n){Yn[e]||(Yn[e]=n)};var Jn=t(566),Zn=H.types.model("UserEmail",{address:H.types.string,verified:H.types.boolean}),Xn=H.types.model("UserProfile",{firstname:H.types.maybeNull(H.types.string),lastname:H.types.maybeNull(H.types.string),displayName:H.types.maybeNull(H.types.string),avatarUrl:H.types.maybeNull(H.types.string)}),et=H.types.model("UserMeta",{profile:H.types.optional(Xn,{})}),nt=H.types.model("User",{id:H.types.identifier,emails:H.types.array(Zn),meta:et,abilities:H.types.frozen()}).preProcessSnapshot(function(e){return Object(L.a)({},e,{abilities:e&&e.ability||[],meta:e&&e.meta||{}})}).views(function(e){return{get gravatarUrl(){var n=window.md5(e.emails[0]);return"https://www.gravatar.com/avatar/".concat(n)},get ability(){return new Jn.a(e.abilities)}}}).actions(function(e){return{updateMeta:function(n){e.meta=n},updateEmail:function(n){e.emails[0].address=n}}});function tt(){var e=Object(ne.a)(["\n          mutation onboard($email: String!, $password: String!, $profile: JSON!) {\n            onboard(email: $email, password: $password, profile: $profile)\n          }\n        "]);return tt=function(){return e},e}function at(){var e=Object(ne.a)(["\n            query {\n              isOnboarding\n            }\n          "]);return at=function(){return e},e}var it=H.types.model("Auth",{user:H.types.maybeNull(nt),accessToken:H.types.maybeNull(H.types.string),refreshToken:H.types.maybeNull(H.types.string),isSetup:H.types.optional(H.types.maybeNull(H.types.boolean),null),isLoggedIn:!1}).actions(function(e){var n=function(){var n=Object(d.a)(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isLoggedIn){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,$n.loadAll();case 4:return n.next=6,ke.read();case 6:ke.fields.forEach(function(e){if(e.ui&&!Yn[e.id]){var n=document.createElement("script");n.src="".concat(ke.coreUrl,"/prime/field/").concat(e.type,"/index.js"),n.id="Prime_Field_".concat(e.type),document.body.appendChild(n)}});case 7:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),t=Object(H.flow)(s.a.mark(function e(t,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.loginWithService("password",{user:{email:t},password:a});case 2:return e.next=4,i();case 4:return e.next=6,n();case 6:case"end":return e.stop()}},e,this)})),a=Object(H.flow)(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,De.logout();case 2:e.isLoggedIn=!1,e.user=null;case 4:case"end":return n.stop()}},n,this)})),i=Object(H.flow)(s.a.mark(function t(){var a,i,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.query({query:On.a});case 2:if(a=t.sent,!(i=a.data)||!i.getUser){t.next=9;break}return e.isLoggedIn=!0,e.user=i.getUser,t.next=9,n();case 9:if(e.isLoggedIn){t.next=14;break}return t.next=12,Ae.query({query:ae()(at())});case 12:(r=t.sent).data&&!0===r.data.isOnboarding&&(e.isSetup=!0);case 14:case"end":return t.stop()}},t,this)})),r=Object(H.flow)(s.a.mark(function n(a){var r,o,l,d,c,u,m,p;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.firstname,o=void 0===r?"":r,l=a.lastname,d=void 0===l?"":l,c=a.email,u=a.password,n.next=3,Ae.mutate({mutation:ae()(tt()),variables:{email:c,password:u,profile:{firstname:o,lastname:d}}});case 3:if(m=n.sent,!(p=m.data)||!p.onboard){n.next=12;break}return n.next=8,t(c,u);case 8:return n.next=10,i();case 10:return e.isSetup=!1,n.abrupt("return",!0);case 12:return n.abrupt("return",!1);case 13:case"end":return n.stop()}},n,this)}));return{login:t,logout:a,register:r,checkLogin:i}}).create(),rt=H.types.model("Users",{items:H.types.map(nt),loading:!1,loaded:!1,error:!1}).views(function(e){return{get list(){return Array.from(e.items.values())}}}).actions(function(e){return{loadAll:Object(H.flow)(s.a.mark(function n(){var t,a,i=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=!(i.length>0&&void 0!==i[0])||i[0],e.loading=!0,t&&e.items.clear(),n.prev=3,n.next=6,Ae.query({query:hn.a});case 6:a=n.sent,a.data.allUsers.edges.forEach(function(n){e.items.put(n.node)}),e.loaded=!0,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),e.error=!0;case 15:e.loading=!1;case 16:case"end":return n.stop()}},n,this,[[3,12]])}))}}).create(),ot=H.types.model("WebhookCall",{id:H.types.identifier,success:H.types.boolean,request:H.types.frozen(),response:H.types.frozen()}),lt=H.types.enumeration("WebhookMethod",["POST","GET","PUT","PATCH","DELETE"]),st=H.types.model("Webhook",{id:H.types.identifier,name:H.types.maybeNull(H.types.string),url:H.types.maybeNull(H.types.string),method:H.types.maybeNull(lt),calls:H.types.maybeNull(H.types.array(ot)),count:H.types.number,success:H.types.number,createdAt:H.types.maybeNull(H.types.Date),updatedAt:H.types.maybeNull(H.types.Date)}).preProcessSnapshot(function(e){return Object(L.a)({},e,{count:Number(e.count||0),success:Number(e.success||0),createdAt:e.createdAt?new Date(e.createdAt):null,updatedAt:e.updatedAt?new Date(e.updatedAt):null})}).actions(function(e){return{update:Object(H.flow)(s.a.mark(function n(t){var a,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:sn.a,variables:{id:e.id,input:t}});case 2:a=n.sent,(i=a.data)&&i.updateWebhook&&(e.name=i.updateWebhook.name,e.url=i.updateWebhook.url,e.method=i.updateWebhook.method);case 5:case"end":return n.stop()}},n,this)}))}}),dt=H.types.model("Webhooks",{items:H.types.map(H.types.late(function(){return st})),loading:!1,loaded:!1,error:!1}).views(function(e){return{get list(){var n=Array.from(e.items.values());return n.sort(function(e,n){return String(e.name).localeCompare(String(n.name))}),n}}}).actions(function(e){return{loadAll:Object(H.flow)(s.a.mark(function n(){var t,a,i=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=!(i.length>0&&void 0!==i[0])||i[0],e.loading=!0,t&&e.items.clear(),n.prev=3,n.next=6,Ae.query({query:yn.a});case 6:a=n.sent,a.data.allWebhooks.edges.forEach(function(n){var t=st.create(n.node);e.items.put(t)}),e.loaded=!0,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),e.error=!0;case 15:e.loading=!1;case 16:case"end":return n.stop()}},n,this,[[3,12]])})),create:Object(H.flow)(s.a.mark(function n(t){var a,i,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ae.mutate({mutation:Me.a,variables:{input:t}});case 2:if(a=n.sent,!(i=a.data)){n.next=8;break}return r=st.create(i.createWebhook),e.items.put(r),n.abrupt("return",r);case 8:case"end":return n.stop()}},n,this)})),remove:Object(H.flow)(s.a.mark(function e(n){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.mutate({mutation:Je.a,variables:{id:n.id}});case 2:t=e.sent,t.data&&Object(H.destroy)(n);case 5:case"end":return e.stop()}},e,this)}))}}).create(),ct={Auth:it,Settings:ke,ContentReleases:xn,ContentEntries:Wn,ContentTypes:$n,Users:rt,Webhooks:dt};window.prime;var ut=ct;function mt(e){var n=e.field,t=e.path,a=e.initialValue,r=e.form,o=e.entry,l=Object(z.get)(Yn,n.type);return l&&l.InputComponent?i.a.createElement(l.InputComponent,{key:n.id,field:n,form:r,client:Ae,stores:ut,path:t,document:o,renderField:mt,initialValue:a}):i.a.createElement("div",{key:n.id},i.a.createElement("i",null,"could not locate ui component for this field: ",n.name," (",n.type,")"))}var pt,ft,vt,kt,ht,gt,yt=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={activeTab:Object(z.get)(t.props,"schema.groups.0.title","Main")},t.renderField=function(e,n){return mt({field:e,index:n,form:t.props.form,client:Ae,stores:ut,path:e.name,entry:t.props.entry,initialValue:Object(z.get)(t.props,"entry.data.".concat(e.name))})},t.renderGroup=function(e,n,a){return i.a.createElement(Hn.a.TabPane,{key:e.title,tab:e.title,forceRender:!0},e.fields.map(t.renderField))},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=this.props.schema.groups;return i.a.createElement("div",{className:"prime-document"},i.a.createElement(Qn.a,{when:this.props.promptEnabled&&this.props.form.isFieldsTouched(),message:"You have unsaved changes. Are you sure you want to leave?"}),i.a.createElement(Kn.a,null,i.a.createElement(Hn.a,{type:"card",animated:!1,activeKey:this.state.activeTab,onChange:function(n){e.setState({activeTab:n})}},n.map(this.renderGroup)),i.a.createElement("button",{type:"submit",hidden:!0})))}}]),n}(i.a.Component),bt=Kn.a.create()(yt),Et=(t(919),S.a.Content),St=S.a.Sider,wt=Object(v.b)((ft=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).documentForm=null,t.contentEntry=null,t.locale=ke.masterLocale,Object(B.a)(t,"options",vt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"loading",kt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"promptEnabled",ht,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"pickContentRelease",gt,Object(G.a)(Object(G.a)(t))),t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.releaseId,a=e.documentId,i=e.locale;return new Promise(function(e,r){if(t.documentForm){var o=t.documentForm.props.form;o.validateFieldsAndScroll(function(){var l=Object(d.a)(s.a.mark(function l(d,c){var u;return s.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!d){l.next=4;break}r(d),l.next=29;break;case 4:if(t.loading.save=!0,o.setFieldsValue(c),u=function e(n){return Array.isArray(n)?n.map(e):Object(z.isObject)(n)?Object.entries(n||{}).reduce(function(n,t){var a=Object(E.a)(t,2),i=a[0],r=a[1];if(Object(z.isObject)(r)){var o=Object.entries(r||{}).filter(function(e){var n=Object(E.a)(e,1)[0];return Number.isInteger(Number(n))});if(o.length>0)return n[i]=o.map(function(n){var t=Object(E.a)(n,2),a=(t[0],t[1]);return e(a)}),n}return n[i]=e(r),n},{}):n}(c),Object.entries(u).forEach(function(e){var n=Object(E.a)(e,2),t=(n[0],n[1]);Array.isArray(t)&&t.length>0&&t[0].__index&&t.sort(function(e,n){return Number(e.__index)-Number(n.__index)})}),!t.contentEntry){l.next=15;break}return l.next=12,t.contentEntry.update({data:u,releaseId:n,locale:i});case 12:e(),l.next=27;break;case 15:if(!t.contentType){l.next=27;break}return l.prev=16,l.next=19,Wn.create({schemaId:t.contentType.id,data:u,locale:t.locale.id,releaseId:n,documentId:a});case 19:t.contentEntry=l.sent,t.contentEntry&&t.props.history.replace("/documents/doc/".concat(t.contentEntry.documentId,"/").concat(t.opts())),e(),l.next=27;break;case 24:l.prev=24,l.t0=l.catch(16),r(l.t0);case 27:t.documentForm&&t.documentForm.props.form.resetFields(),t.loading.save=!1;case 29:case"end":return l.stop()}},l,this,[[16,24]])}));return function(e,n){return l.apply(this,arguments)}}())}})},t.onKeyDown=function(e){return 83!==e.which||!e.ctrlKey&&!e.metaKey||(e.shiftKey?t.onPublish(e):t.onSave(e))},t.onSave=function(){var e=Object(d.a)(s.a.mark(function e(n){var a,i,r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>1&&void 0!==r[1])||r[1],n.preventDefault(),e.prev=2,i=t.options.release,e.next=6,t.save({documentId:t.props.match.params.entryId,releaseId:i});case 6:a&&M.a.success("Document was saved",1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),M.a.error("Could not save document"),console.error(e.t0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,9]])}));return function(n){return e.apply(this,arguments)}}(),t.onPublish=function(){var e=Object(d.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contentEntry){e.next=9;break}if(t.loading.publish=!0,!t.promptEnabled||!t.documentForm.props.form.isFieldsTouched()){e.next=5;break}return e.next=5,t.onSave(n,!1);case 5:return e.next=7,t.contentEntry.publish();case 7:M.a.success("Document was published",1),t.loading.publish=!1;case 9:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.onReleaseSelect=function(){var e=Object(d.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contentEntry){e.next=11;break}return e.prev=1,e.next=4,t.save({releaseId:n.id});case 4:M.a.success("Document was added to release"),t.props.history.replace("/documents/doc/".concat(t.contentEntry.documentId,"/").concat(t.opts({release:n.id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),M.a.error("Could not add document to release");case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(n){return e.apply(this,arguments)}}(),t.onDuplicate=function(e){t.contentEntry=null;try{t.save(),M.a.success("Document was duplicated",1)}catch(Ja){M.a.error("Could not duplicate document")}},t.onFormRef=function(e){t.documentForm=e},t.onLocaleClick=function(e){var n=t.props,a=n.match,i=n.history,r=a.params,o=e.key;r.entryId?i.push("/documents/doc/".concat(r.entryId,"/").concat(t.opts({locale:o}))):i.push("/documents/create/".concat(t.opts({locale:o})))},t.onPreviewPress=function(){var e=Object(d.a)(s.a.mark(function e(n){var a,i,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Number(n.key||0),i=ke.previews[a],r={id:t.contentEntry.id,url:i.hostname+i.pathname,accessToken:localStorage.getItem("accounts:accessToken"),refreshToken:localStorage.getItem("accounts:refreshToken")},o=Object.entries(r).map(function(e){var n=Object(E.a)(e,2),t=n[0],a=n[1];return"".concat(t,"=").concat(encodeURIComponent(String(a)))}).join("&"),window.open("".concat(ke.coreUrl,"/prime/redirect?").concat(o),"_prime");case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.renderVersion=function(e){var n=t.contentEntry&&t.contentEntry.hasChanged?"Unsaved changes":"Draft";return i.a.createElement(q.a,{key:e.id,type:e.publishedAt?"info":"warning",icon:e.publishedAt?i.a.createElement(b.a,{type:"check-circle"}):i.a.createElement(b.a,{type:"info-circle"}),message:e.publishedAt?"Published":n,description:"".concat(Object(_.distanceInWordsToNow)(e.updatedAt)," ago"),style:{marginBottom:16},banner:!0})},t.renderStatus=function(){var e=t.contentEntry,n=e.versions.findIndex(function(e){return null!==e.publishedAt}),a=e.versions.findIndex(function(e){return null===e.publishedAt});return i.a.createElement(i.a.Fragment,null,a>=0&&(-1===n||a<n)&&t.renderVersion(e.versions[a]),n>=0&&t.renderVersion(e.versions[n]))},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params,n=e.entryId,t=e.options,a=String(t||"").split(";").reduce(function(e,n){var t=n.split(":"),a=Object(E.a)(t,2),i=a[0],r=a[1];return e[i]=r,e},{});a.locale&&(this.locale=ke.locales.find(function(e){return e.id===a.locale})||ke.masterLocale),n&&(a.entryId=n),this.options=a,this.load(),document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"load",value:function(){var e=Object(d.a)(s.a.mark(function e(){var n,t,a,i=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.options,t=this.locale,!n.type){e.next=6;break}return e.next=4,$n.loadByName(n.type);case 4:this.contentType=e.sent,this.contentType&&this.forceUpdate();case 6:if(this.documentForm&&this.documentForm.props.form.resetFields(),!n.entryId){e.next=19;break}return a=setTimeout(function(){i.loading.document=!0},125),e.next=11,Wn.loadById(n.entryId,t.id,n.release);case 11:if(this.contentEntry=e.sent,clearTimeout(a),!this.contentEntry||n.type){e.next=18;break}return e.next=16,$n.loadById(this.contentEntry.schemaId);case 16:this.contentType=e.sent,this.contentType&&(this.options.type=this.contentType.name.toLocaleLowerCase());case 18:this.loading.document=!1;case 19:this.forceUpdate();case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"opts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(L.a)({},this.options,e);return delete n.entryId,Object.entries(n).filter(function(e){var n=Object(E.a)(e,2),t=(n[0],n[1]);return t&&""!==t}).map(function(e){return e.join(":")}).join(";")}},{key:"renderPreview",value:function(e){if(0===ke.previews.length)return null;if(1===ke.previews.length)return i.a.createElement(R.a,{onClick:this.onPreviewPress,style:{marginLeft:16},disabled:e,icon:"eye"});var n=i.a.createElement(w.b,{onClick:this.onPreviewPress},ke.previews.map(function(e,n){var t=e.name;return i.a.createElement(w.b.Item,{key:n},t)}));return i.a.createElement(V.a,{overlay:n,trigger:["click"]},i.a.createElement(R.a,{style:{marginLeft:16},disabled:e,icon:"eye"}))}},{key:"render",value:function(){var e=this,n=this.contentEntry,t=this.contentType,a=this.options,r="/documents/by/".concat(this.opts({type:null}));return i.a.createElement(S.a,null,i.a.createElement(Pn,null,i.a.createElement("div",{style:{flex:1,display:"flex"}},i.a.createElement(F.a,{to:r,className:"ant-btn-back"},i.a.createElement(b.a,{type:"left"})),t&&i.a.createElement("h3",{style:{margin:0}},t.title,i.a.createElement(P.a,{spinning:this.loading.document,delay:500,style:{marginLeft:16}}))),i.a.createElement(V.a,{overlay:this.localesMenu,trigger:["click"]},i.a.createElement(R.a,{href:"#",type:"default"},i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(this.locale.flag),style:{marginRight:8}}),this.locale.name,i.a.createElement(b.a,{type:"down"}))),i.a.createElement(R.a,Object.assign({href:"#",onClick:this.onSave,type:"default",icon:"save",style:{marginLeft:16},loading:this.loading.save},{disabled:this.loading.document||this.loading.publish}),"Save"),!a.release&&i.a.createElement(R.a,Object.assign({href:"#",onClick:this.onPublish,type:"primary",icon:"cloud-upload",loading:this.loading.publish,style:{marginLeft:16}},{disabled:this.loading.document}),"Publish"),this.renderPreview(this.loading.document)),i.a.createElement(S.a,null,i.a.createElement(Et,{style:{height:"calc(100vh - 64px)"}},!t&&i.a.createElement("div",{className:"prime-document"},i.a.createElement("div",{style:{width:65,height:40,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:"white"}}),i.a.createElement(j.a,{bordered:!1,style:{borderRadius:3,borderTopLeftRadius:0,marginBottom:16}},i.a.createElement(T.a,{loading:!0}))),t&&t.fields&&i.a.createElement(bt,{wrappedComponentRef:this.onFormRef,promptEnabled:this.promptEnabled,onSave:this.onSave,entry:n,schema:t.fields})),i.a.createElement(An,{onCancel:function(){e.pickContentRelease=!1},onSelect:this.onReleaseSelect,visible:this.pickContentRelease}),i.a.createElement(St,{width:320,theme:"light"},i.a.createElement("div",{style:{padding:16,flex:1}},n&&n.versions.length>0?this.renderStatus():this.loading.document?null:i.a.createElement(q.a,{type:"warning",message:"New document",description:"Unsaved changes",style:{marginBottom:16},banner:!0})),i.a.createElement("div",{style:{padding:16}},n&&i.a.createElement(i.a.Fragment,null,i.a.createElement("pre",{style:{fontSize:13}},n.id)),n&&!a.release&&i.a.createElement(R.a,{type:"dashed",style:{marginBottom:8},block:!0,onClick:function(){return e.pickContentRelease=!0}},"Add to release"),n&&n.hasBeenPublished&&i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.unpublish();case 2:case"end":return e.stop()}},e,this)}))},i.a.createElement(R.a,{href:"#",type:"dashed",style:{marginBottom:8},block:!0},"Unpublish")),n&&i.a.createElement(R.a,{onClick:this.onDuplicate,style:{marginBottom:8},block:!0},"Duplicate"),n&&i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:Object(d.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.remove();case 2:e.promptEnabled=!1,e.props.history.push("/documents/by/".concat(e.opts())),M.a.success("Document was deleted");case 5:case"end":return t.stop()}},t,this)}))},i.a.createElement(R.a,{href:"#",type:"danger",block:!0},"Delete"))))))}},{key:"localesMenu",get:function(){return i.a.createElement(w.b,{onClick:this.onLocaleClick,selectedKeys:[this.locale.id]},ke.locales.map(function(e){var n=e.id,t=e.flag,a=e.name;return i.a.createElement(w.b.Item,{key:n},i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(t),style:{marginRight:8}}),a)}))}}]),n}(i.a.Component),vt=Object($.a)(ft.prototype,"options",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kt=Object($.a)(ft.prototype,"loading",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{publish:!1,document:!1,save:!1}}}),ht=Object($.a)(ft.prototype,"promptEnabled",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gt=Object($.a)(ft.prototype,"pickContentRelease",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pt=ft))||pt,Nt=(t(222),t(60)),Ft=(t(334),t(125)),Dt=(t(468),t(183)),Ot=(t(335),t(126)),It=t(191),Ct=function(e){var n=e.split("").reduce(function(e,n){return n.charCodeAt(0)+((e<<5)-e)},0),t=[0,1,2].map(function(e){return n>>8*e&255}),a=Object(E.a)(t,3),i=a[0],r=a[1],o=a[2];return"hsl(".concat(360*function(e,n,t){e/=255,n/=255,t/=255;var a=Math.max(e,n,t),i=Math.min(e,n,t),r=a-i;switch(a){case i:return 0;case e:return((n-t)/r+(n<t?6:0))/6;case n:return((t-e)/r+2)/6;case t:return((e-n)/r+4)/6;default:return 0}}(i,r,o),", 60%, 60%)")};function xt(){var e=Object(ne.a)(["\n  query allDocuments(\n    $locale: String\n    $schemaId: ID\n    $releaseId: ID\n    $first: Int = 10\n    $skip: Int\n    $sort: [DocumentConnectionSort!]\n  ) {\n    allSchemas {\n      edges {\n        node {\n          id\n          name\n          title\n          variant\n        }\n      }\n    }\n    allDocuments(\n      first: $first\n      skip: $skip\n      filter: { locale: $locale, schemaId: $schemaId, releaseId: $releaseId }\n      sort: $sort\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          documentId\n          locale\n          publishedAt\n          updatedAt\n          data\n          primary\n          schemaId\n          userId\n          published {\n            id\n          }\n        }\n        cursor\n      }\n    }\n  }\n"]);return xt=function(){return e},e}var At,jt,Tt,Pt,Vt,Rt,Lt,qt,Mt,Bt=ae()(xt()),Gt=function(e){var n=e.match,t=e.history,a=String(n.params.options).split(";").reduce(function(e,n){var t=n.split(":"),a=Object(E.a)(t,2),i=a[0],r=a[1];return e[i]=r,e},{}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(Object(L.a)({},a,e)).filter(function(e){var n=Object(E.a)(e,2),t=(n[0],n[1]);return t&&""!==t}).map(function(e){return e.join(":")}).join(";")},o=ke.locales.find(function(e){return e.id===a.locale})||ke.masterLocale;i.a.useEffect(function(){xn.loadAll(),$n.loadAll()},[n.location]);var l,c=i.a.createElement(w.b,{onClick:function(e){t.push("/documents/by/".concat(r({locale:e.key})))}},ke.locales.map(function(e){var n=e.id,t=e.flag,a=e.name;return i.a.createElement(w.b.Item,{key:n},i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(t),style:{marginRight:8}}),a)})),u=null,m=0,p=a.release||null;if(a.type){var f=$n.list.find(function(e){return e.name.toLocaleLowerCase()===String(a.type).toLocaleLowerCase()});f&&(u=f.id)}return i.a.createElement(It.a,{query:Bt,client:Ae,fetchPolicy:"network-only",variables:{schemaId:u,releaseId:p,userId:l,first:30,skip:m,locale:o.id,sort:"updatedAt_DESC"}},function(e){e.loading;var n=e.error,f=e.data,v=e.refetch;if(n)return"Error! ".concat(n.message);var k={total:Object(z.get)(f,"allDocuments.totalCount"),pageSize:30},h=function(){var e=Object(d.a)(s.a.mark(function e(n,t,a){var i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=t.schemaId&&t.schemaId[0],l=t["user.id"]&&t["user.id"][0],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"updatedAt";return"user.id"===e&&(e="userId"),"".concat(e,"_").concat("ascend"===a.order?"ASC":"DESC")},m=n.pageSize*(n.current-1),r={schemaId:u,releaseId:p,userId:l,first:n.pageSize,skip:m,sort:i(a.field),locale:o.id},v(r);case 6:case"end":return e.stop()}},e,this)}));return function(n,t,a){return e.apply(this,arguments)}}(),g=[{title:"",dataIndex:"documentId",sorter:!1,width:"52px",render:function(e,n){var t=n.publishedAt||n.published?"#79cea3":"#faad14",r=n.publishedAt?"caret-right":"exclamation",o=!(!n.published||null!==n.publishedAt);return p&&(o=!1,r="clock-circle",t="#4A90E2"),a.locale&&n.locale!==a.locale&&(o=!1,r="global",t="#D3D7D6"),i.a.createElement(Ot.a,{count:o?"!":0,style:{backgroundColor:"#faad14"}},i.a.createElement("div",{style:{width:32,height:32,borderRadius:4,backgroundColor:t,display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:21,color:"white"}},i.a.createElement(b.a,{type:r})))}},{title:"Title",dataIndex:"data.title",render:function(e,n){var t=a.locale&&n.locale!==a.locale,r=t||!n.primary;return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("span",{style:{display:"inline-flex",flex:1,fontStyle:r?"italic":"",opacity:r?.75:1}},n.primary||"(id: ".concat(n.documentId,")")),t&&i.a.createElement(Dt.a,{color:"orange"},"Needs translation"))}},{title:"Type",width:"175px",dataIndex:"schemaId",filters:$n.list.filter(function(e){return"Default"===e.variant}).map(function(e){var n=e.id;return{text:e.title,value:n}}),filterMultiple:!1,render:function(e){return $n.items.get(e).name}},{title:"Updated",width:"175px",dataIndex:"updatedAt",sorter:!0,defaultSortOrder:"descend",render:function(e){return Object(_.distanceInWordsToNow)(new Date(e))+" ago"}},{title:"Author",dataIndex:"user.id",width:"120px",sorter:!0,filters:Object(z.get)(f,"allUsers",[]).map(function(e){var n=e.id;return{text:e.email,value:n}}),filteredValue:l,filterMultiple:!1,align:"center",render:function(e,n){if(!n.user)return i.a.createElement(Ft.a,{icon:"user"});var t=n.user,a=t.firstname,r=t.lastname,o=t.email;return i.a.createElement(Nt.a,{title:"".concat(a," ").concat(r," (").concat(o,")")},i.a.createElement(Ft.a,{style:{backgroundColor:Ct(o)}},a.substring(0,1),r.substring(0,1)))}}],y=i.a.createElement(w.b,{onClick:function(e){t.push("/documents/create/".concat(r({type:e.key.toLocaleLowerCase()})))}},Object(z.get)(f,"allSchemas.edges",[]).filter(function(e){return"Default"===e.node.variant}).map(function(e){var n=e.node,t=n.name,a=n.title;return i.a.createElement(w.b.Item,{key:t},a)})),E=Object(z.get)(f,"allDocuments.edges",[]).map(function(e){return e.node}),N=xn.items.has(p||"")?xn.items.get(p||""):null;return i.a.createElement(S.a,null,i.a.createElement(Pn,null,i.a.createElement("div",{style:{flex:1}},i.a.createElement("h2",{style:{margin:0}},N?'Release "'.concat(N.name,'"'):"Documents")),N&&i.a.createElement(R.a,Object.assign({href:"#",type:"default",style:{marginRight:16},onClick:function(){W.a.confirm({title:"Do you want to publish ".concat(N.name,"?"),content:"This release contains ".concat(N.documentsCount," document").concat(1===N.documentsCount?"":"s"),onOk:function(){var e=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.publish();case 2:M.a.success("Release has been published"),t.push("/documents");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},{disabled:Boolean(N.publishedAt)}),"Publish"),i.a.createElement(V.a,{overlay:c,trigger:["click"]},i.a.createElement(R.a,{href:"#",type:"default",style:{marginRight:16}},i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(o.flag),style:{marginRight:8}}),o.name,i.a.createElement(b.a,{type:"down"}))),i.a.createElement(V.a,{overlay:y,trigger:["click"]},i.a.createElement(R.a,{href:"#",type:"primary"},"Create",i.a.createElement(b.a,{type:"down"})))),i.a.createElement(S.a.Content,{style:{padding:32,height:"calc(100vh - 64px)"}},i.a.createElement(j.a,{bodyStyle:{padding:0},bordered:!1,className:"with-table-pagination"},i.a.createElement(K.a,{columns:g,rowKey:"documentId",dataSource:E,pagination:k,rowClassName:function(){return"prime-row-click"},onChange:h,onRow:function(e){return{onClick:function(){var n=$n.items.get(e.schemaId);t.push("/documents/doc/".concat(e.documentId,"/").concat(r({type:n.name.toLowerCase()})))}}}})),i.a.createElement("div",{style:{height:180}})))})},$t=(t(86),t(27)),_t=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).onSubmit=function(){var e=Object(d.a)(s.a.mark(function e(n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.props.form.getFieldsValue(),e.prev=2,e.next=5,it.login(a.email,a.password);case 5:t.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),M.a.error("Invalid email or password");case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(n){return e.apply(this,arguments)}}(),t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){if(it.isSetup)return i.a.createElement(k.a,{to:"/setup"});var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(Kn.a,{onSubmit:this.onSubmit,style:{width:300},action:"/login",autoComplete:"prime-login"},i.a.createElement("div",{style:{color:"black",fontSize:24,marginBottom:16,fontFamily:"system"}},"prime"),i.a.createElement(Kn.a.Item,null,e("email")(i.a.createElement($t.a,{prefix:i.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",autoComplete:"prime-email"}))),i.a.createElement(Kn.a.Item,null,e("password")(i.a.createElement($t.a,{prefix:i.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",autoComplete:"prime-password"}))),i.a.createElement(Kn.a.Item,null,i.a.createElement(R.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),i.a.createElement("div",null,i.a.createElement(F.a,{to:"/reset-password"},"Reset password"))))}}]),n}(i.a.Component),zt=Kn.a.create()(_t),Ut=t(1169),Wt=function(e){function n(){return Object(c.a)(this,n),Object(m.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){it.logout()}},{key:"render",value:function(){return i.a.createElement(Ut.a,{to:"/login"})}}]),n}(i.a.Component),Kt=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},t.onSubmit=function(e){return e.preventDefault(),t.props.form.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=14;break}return e.prev=1,e.next=4,it.register({firstname:a.firstname,lastname:a.lastname,email:a.email,password:a.password});case 4:if(!it.isLoggedIn){e.next=8;break}return t.props.history.push("/"),W.a.info({title:"Welcome to Prime CMS",content:i.a.createElement("div",null,i.a.createElement("p",null,"To get started, create your first Schema."),i.a.createElement("p",null,i.a.createElement("a",{href:"https://docs.primecms.app",target:"_blank"},"Read the documentation"))),onOk:function(){}}),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Setup error",e.t0);case 13:M.a.error("Could not setup Prime. Check the logs.");case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(n,t){return e.apply(this,arguments)}}()),!1},t.compareToFirstPassword=function(e,n,a){var i=t.props.form;n&&n!==i.getFieldValue("password")?a("The passwords do not match"):a()},t.validateToNextPassword=function(e,n,a){var i=t.props.form;n&&t.state.confirmDirty&&i.validateFields(["confirm"],{force:!0}),a()},t.onPasswordBlur=function(e){var n=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!n})},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(Kn.a,{onSubmit:this.onSubmit,style:{width:300},action:"/login",layout:"vertical"},i.a.createElement("div",{style:{color:"black",fontSize:24,marginBottom:16,fontFamily:"system"}},"prime"),i.a.createElement(Kn.a.Item,{label:"First name"},e("firstname")(i.a.createElement($t.a,{placeholder:"Name",size:"large"}))),i.a.createElement(Kn.a.Item,{label:"Last name"},e("lastname")(i.a.createElement($t.a,{placeholder:"Name",size:"large"}))),i.a.createElement(Kn.a.Item,{label:"Email address"},e("email",{rules:[{type:"email",message:"Please enter a valid email address"},{required:!0,message:"Please enter an email address"}]})(i.a.createElement($t.a,{placeholder:"Email address",size:"large"}))),i.a.createElement(Kn.a.Item,{label:"Password",required:!0},e("password",{rules:[{required:!0,message:"Please enter a password"},{min:6,message:"Enter at least 6 characters"},{validator:this.validateToNextPassword}]})(i.a.createElement($t.a,{type:"password",size:"large",placeholder:"Password",onBlur:this.onPasswordBlur}))),i.a.createElement(Kn.a.Item,{label:"Confirm password",required:!0},e("confirm",{rules:[{required:!0,message:"Please confirm the password"},{validator:this.compareToFirstPassword}]})(i.a.createElement($t.a,{type:"password",placeholder:"Confirm password",size:"large"}))),i.a.createElement(Kn.a.Item,null,i.a.createElement(R.a,{type:"primary",htmlType:"submit",size:"large"},"Continue"))))}}]),n}(i.a.Component),Ht=Kn.a.create()(Kt),Qt=function(){return i.a.createElement("iframe",{id:"playground",src:"".concat(ke.coreUrl,"/graphql"),frameBorder:"0",style:{width:"100%",height:"calc(100vh - 5px)"}})},Yt=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).state={sent:!1,confirmDirty:!1},t.onSubmit=function(){var e=Object(d.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t.props.form.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,a){var i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.props.match.params.token)){e.next=12;break}return e.next=4,Fe.resetPassword(i,a.password);case 4:if(!(r=e.sent)){e.next=9;break}return De.setTokens(r.tokens),e.next=9,it.checkLogin();case 9:window.location="/",e.next=15;break;case 12:return e.next=14,Fe.sendResetPasswordEmail(a.email);case 14:t.setState({sent:!0});case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.compareToFirstPassword=function(e,n,a){var i=t.props.form;n&&n!==i.getFieldValue("password")?a("The passwords do not match"):a()},t.validateToNextPassword=function(e,n,a){var i=t.props.form;n&&t.state.confirmDirty&&i.validateFields(["confirm"],{force:!0}),a()},t.onPasswordBlur=function(e){var n=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!n})},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,n=this.props.match.params.token;return i.a.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(Kn.a,{onSubmit:this.onSubmit,style:{width:300},action:"/reset-password"},i.a.createElement("div",{style:{color:"black",fontSize:24,marginBottom:16,fontFamily:"system"}},"prime"),i.a.createElement("h3",null,"Reset password"),n?i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a.Item,{label:"New Password",required:!0},e("password",{rules:[{required:!0,message:"Please enter a password"},{min:6,message:"Enter at least 6 characters"},{validator:this.validateToNextPassword}]})(i.a.createElement($t.a,{type:"password",size:"large",placeholder:"Password",onBlur:this.onPasswordBlur}))),i.a.createElement(Kn.a.Item,{label:"Confirm password",required:!0},e("confirm",{rules:[{required:!0,message:"Please confirm the password"},{validator:this.compareToFirstPassword}]})(i.a.createElement($t.a,{type:"password",placeholder:"Confirm password",size:"large"}))),i.a.createElement(Kn.a.Item,null,i.a.createElement(R.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Set Password"))):this.state.sent?i.a.createElement("div",{style:{marginBottom:16}},"We sent an reset password link to the provided email address if it exists in our system."):i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a.Item,{colon:!1},e("email")(i.a.createElement($t.a,{prefix:i.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",autoComplete:"prime-email"}))),i.a.createElement(Kn.a.Item,null,i.a.createElement(R.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Reset Password"))),i.a.createElement(F.a,{to:"/login"},"Go back")))}}]),n}(i.a.Component),Jt=Kn.a.create()(Yt),Zt=(t(158),t(78)),Xt=t(146),ea=(t(337),t(118)),na=Kn.a.create({mapPropsToFields:function(e){var n=e.field,t={name:Kn.a.createFormField({value:n.name}),title:Kn.a.createFormField({value:n.title}),description:Kn.a.createFormField({value:n.description}),type:Kn.a.createFormField({value:n.type})},a=e.availableFields.find(function(e){return e.type===n.type}),i=Object(z.defaultsDeep)(Object(z.get)(n,"options",{}),Object(z.get)(a,"options",{}));return Object.entries(i).forEach(function(e){var n=Object(E.a)(e,2),a=n[0],i=n[1];t["options.".concat(a)]=Kn.a.createFormField({value:i})}),t.optionsJson=Kn.a.createFormField({value:JSON.stringify(i)}),t}})(function(e){var n=e.form,t=e.onCancel,r=e.onSubmit,o=e.field,l=e.schema,c=e.availableFields,u=n.getFieldDecorator,m=Object(a.useState)(""===n.getFieldValue("name")),p=Object(E.a)(m,2),f=p[0],v=p[1],k=n.getFieldValue("type"),h=Object(z.get)(Yn,k),g=Object(z.get)(h,"SchemaSettingsComponent",function(){return null}),y=c.find(function(e){return e.type===k}),b=Object(z.defaultsDeep)({},o?Object(U.toJS)(o.options):{},y?Object(U.toJS)(y.defaultOptions):{}),S=function(){var e=Object(d.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}if(a=Object(L.a)({},o,t),!g||!g.BEFORE_SUBMIT){e.next=5;break}return e.next=5,g.BEFORE_SUBMIT(a.options);case 5:return e.next=7,r(a);case 7:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()),e.abrupt("return",!1);case 3:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a,{layout:"vertical",hideRequiredMark:!0,onSubmit:S},i.a.createElement(Kn.a.Item,{style:{marginBottom:8}},u("title",{rules:[{required:!0}]})(i.a.createElement($t.a,{addonBefore:"Title*",onKeyUp:function(e){if(f){for(var t=Object(z.camelCase)(n.getFieldValue("title")),a=t,i=1;l.fields.find(function(e){return e!==o&&e.name===a});)a="".concat(t).concat(i),i+=1;n.setFieldsValue({name:a})}},placeholder:"Please enter title",autoFocus:!0}))),i.a.createElement(Kn.a.Item,{style:{marginBottom:8}},u("name",{rules:[{required:!0},{pattern:/^[A-Za-z][A-Za-z0-9_]+$/,message:"Must be alphanumeric and start with non-number"},{validator:function(e,n,t){return"id"===n?t("Forbidden name: id"):"_meta"===n?t("Forbidden name: _meta"):void t(l.fields.find(function(e){return e!==o&&e.name===n})?"Field with that name already exists":void 0)}}]})(i.a.createElement($t.a,{addonBefore:"API*",onKeyUp:function(e){v(""===e.currentTarget.value)},placeholder:"Please enter api name"}))),i.a.createElement(Kn.a.Item,{style:{marginBottom:8}},u("description",{rules:[{max:80}]})(i.a.createElement($t.a,{addonBefore:"Description",placeholder:"(optional)"}))),i.a.createElement(ea.a,{dashed:!0}),i.a.createElement(g,{field:o,form:n,options:b,stores:ut}),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:t},"Cancel"),i.a.createElement(R.a,{onClick:S,type:"primary",htmlType:"submit"},"Save"))))}),ta=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).onExtraClick=function(e){e.stopPropagation()},t.onDelete=function(){return t.props.onDelete(t.props.field)},t.onClick=function(e){return e.stopPropagation(),t.props.onClick(t.props.field)},t.onDisplayClick=function(e){return e.stopPropagation(),t.props.onDisplayClick?t.props.onDisplayClick(t.props.field):null},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.field,a=n.index,r=n.children,o="string"!==t.type&&"number"!==t.type;return i.a.createElement(Xt.b,{draggableId:"Field.".concat(t.id),index:a,key:t.id},function(n){return i.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(L.a)({},n.draggableProps.style,{marginBottom:16})}),i.a.createElement(j.a,{title:i.a.createElement(i.a.Fragment,null,"".concat(t.title||t.name),t.description&&""!==t.description&&i.a.createElement("p",{style:{fontSize:13,color:"#888",marginBottom:-8}},t.description)),hoverable:!0,extra:i.a.createElement("span",{onClick:e.onExtraClick},i.a.createElement("span",{style:{marginRight:10,color:"#aaa",display:"inline-block",border:"1px solid #eee",borderRadius:4,fontSize:12,fontWeight:"normal",padding:"2px 4px"}},t.type.substr(0,1)+t.type.substr(1).toLowerCase()),t.isLeaf&&i.a.createElement(Nt.a,{title:"Mark as default for display"},i.a.createElement(R.a,{size:"small",type:"dashed",style:{marginRight:10},disabled:o,onClick:e.onDisplayClick},i.a.createElement(b.a,{type:"star",theme:t.primary?"filled":"outlined"}))),i.a.createElement(A.a,{title:"Are you sure?",onConfirm:e.onDelete,icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}})},i.a.createElement(R.a,{size:"small",type:"dashed"},i.a.createElement(b.a,{type:"delete"})))),onClick:e.onClick,bodyStyle:{display:"group"===t.type?"inherit":"none"}},r))})}}]),n}(i.a.Component),aa=S.a.Sider,ia=S.a.Content,ra=Hn.a.TabPane,oa="#FEFCDD",la=Object(v.b)((jt=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).tabs=i.a.createRef(),t.editField=i.a.createRef(),t.state={flush:!1,disabledDroppables:[]},Object(B.a)(t,"isDrawerOpen",Tt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"isNewField",Pt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"availableFields",Vt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"selectedField",Rt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"selectedGroup",Lt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"loading",qt,Object(G.a)(Object(G.a)(t))),Object(B.a)(t,"saving",Mt,Object(G.a)(Object(G.a)(t))),t.saveSchema=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.disposeOnPatch(),t.saving=!0,e.next=4,t.contentType.saveSchema();case 4:e.sent&&M.a.success("Schema updated"),t.contentType.fields.setHasChanged(!1),t.detectChanges(),t.saving=!1;case 9:case"end":return e.stop()}},e,this)})),t.onKeyDown=function(e){return 83!==e.which||!e.ctrlKey&&!e.metaKey||(e.preventDefault(),t.isDrawerOpen||t.saveSchema(),!1)},t.onOpenDrawer=function(){t.isDrawerOpen=!0},t.onCloseDrawer=function(){t.isDrawerOpen=!1},t.onDragStart=function(e){var n=t.contentType.fields.fields,a=e.source,i=e.draggableId.split("."),r=Object(E.a)(i,2),o=(r[0],r[1]),l=[];if("AvailableFields"===a.droppableId)"group"===o&&n.forEach(function(e){e.type&&"group"===e.type&&l.push("FieldGroup.".concat(e.id))});else{var s=n.find(function(e){return e.id===o});if(!s)return null;var d=Object(H.getParent)(s),c=Object(H.getParent)(d),u=c&&c.id;u&&l.push("Group.".concat(t.selectedGroup)),n.forEach(function(e){"group"===e.type&&e.id!==u&&l.push("FieldGroup.".concat(e.id))})}t.setState({disabledDroppables:l})},t.onDragEnd=function(e){if(t.contentType){var n=e.destination,a=e.draggableId;if(!n)return null;var i=a.split("."),r=Object(E.a)(i,2),o=r[0],l=r[1],s=n.droppableId.split("."),d=Object(E.a)(s,2),c=d[0],u=d[1];if("AvailableField"===o){var m=t.contentType.fields.add({name:"",title:"",description:"",group:t.selectedGroup,type:l},n.index,t.selectedGroup,"Field"===c?u:void 0);t.isNewField=!0,t.selectedField=m,"group"===l&&t.flushSchema(),m?t.onOpenDrawer():M.a.error("Could not add field :(")}else t.contentType.fields.move(l,n.index)}},t.onFieldDelete=function(e){t.contentType.fields.remove(e),t.flushSchema()},t.onFieldClick=function(e){t.isNewField=!1,t.selectedField=e,t.onOpenDrawer()},t.onFieldDisplay=function(e){t.contentType.fields.setDisplay(e),t.flushSchema()},t.onSave=function(){t.saveSchema()},t.onEditFieldCancel=function(){var e=Object(G.a)(Object(G.a)(t)),n=e.selectedField,a=e.isNewField;n&&a&&t.contentType.fields.remove(n),t.onCloseDrawer()},t.onEditFieldSubmit=function(){var e=Object(d.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return t.editField.current.validateFields(function(n){e(!n)})});case 2:e.sent?(t.selectedField.update({name:n.name,title:n.title,description:n.description,type:n.type,options:n.options}),t.selectedField=null,t.onCloseDrawer()):M.a.error("Fix errors before saving");case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.onTabsChange=function(e){t.selectedGroup=e},t.onTabsEdit=function(e,n){"add"===n?t.onGroupAdd():"remove"===n&&confirm("Are you sure?")&&t.contentType.removeGroup(e)},t.onGroupAdd=function(){var e=prompt("Enter group name","");e&&t.contentType.addGroup(e)},t.renderGroupField=function(e){return i.a.createElement(Xt.c,{key:e.id,droppableId:"Field.".concat(e.id),isDropDisabled:t.state.disabledDroppables.indexOf("FieldGroup.".concat(e.id))>=0},function(n,a){return i.a.createElement("div",Object.assign({ref:n.innerRef,style:{minHeight:80,transition:"background-color 0.3s ease-in-out",backgroundColor:a.isDraggingOver?oa:"rgba(0, 0, 0, 0.025)",padding:16}},n.droppableProps),e.fields.map(t.renderField),n.placeholder)})},t.renderField=function(e,n){return i.a.createElement(ta,{key:e.id||Math.random(),field:e,index:n,onDisplayClick:t.onFieldDisplay,onClick:t.onFieldClick,onDelete:t.onFieldDelete},"group"===e.type&&t.renderGroupField(e))},t.renderAvailableField=function(e,n){return i.a.createElement(Xt.b,{key:"AvailableField.".concat(e.type),draggableId:"AvailableField.".concat(e.type),index:n},function(n,t){return i.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(L.a)({},n.draggableProps.style,{marginBottom:10})}),i.a.createElement(j.a,{style:{borderStyle:"dashed"},bodyStyle:{padding:"8px 16px",fontSize:14},hoverable:!0},i.a.createElement("div",null,i.a.createElement("strong",null,e.title)),i.a.createElement("div",{style:{color:"#999"}},e.description)))})},t.renderGroup=function(e){var n=t.contentType.fields.groups.find(function(n){return n.title.toLowerCase()===e.toLowerCase()});return i.a.createElement(ra,{key:e,tab:e,style:{height:"calc(100vh - 120px)",overflowY:"auto"}},i.a.createElement(Xt.c,{key:e,droppableId:"Group.".concat(e),isDropDisabled:t.state.disabledDroppables.indexOf("Group.".concat(e))>=0},function(e,a){return i.a.createElement("div",{ref:e.innerRef,style:{minHeight:"100%",transition:"background-color 0.3s ease-in-out",backgroundColor:a.isDraggingOver?oa:"",padding:32}},n&&n.fields.filter(function(e){return e.schemaId===t.contentType.id}).map(t.renderField),e.placeholder,i.a.createElement("div",{style:{height:80}}))}))},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.load(),document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"load",value:function(){var e=Object(d.a)(s.a.mark(function e(){var n,t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,$n.loadById(this.props.match.params.id);case 3:if(!(n=e.sent)){e.next=13;break}return this.contentType=Object(H.clone)(n),this.selectedGroup=this.contentType.groups[0]||"Main",e.next=9,Ae.query({query:vn.a});case 9:t=e.sent,a=t.data,this.availableFields=a.allFields,this.detectChanges();case 13:this.loading=!1;case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"detectChanges",value:function(){var e=this;this.disposeOnPatch=Object(H.onPatch)(this.contentType.fields,function(n){e.contentType.fields.setHasChanged(!0)})}},{key:"flushSchema",value:function(){var e=this;this.setState({flush:!0},function(){return e.setState({flush:!1})})}},{key:"render",value:function(){var e=this,n=this.contentType,t=this.availableFields,a=this.state.flush,r=Object(z.get)(n,"title");return i.a.createElement(S.a,{style:{minHeight:"100%"}},i.a.createElement(Pn,null,i.a.createElement("div",{style:{flex:1,display:"flex"}},i.a.createElement(F.a,{to:"/schemas",className:"ant-btn-back"},i.a.createElement(b.a,{type:"left"})),i.a.createElement("h3",{style:{margin:0}},this.loading?null:r,i.a.createElement(P.a,{spinning:this.loading,delay:500}))),i.a.createElement(R.a,{type:"dashed",disabled:!0,style:{marginRight:8},title:"WIP",icon:"cloud-download"},"Import"),i.a.createElement(R.a,{type:"primary",onClick:this.onSave,icon:"save",loading:this.saving},"Save")),i.a.createElement(S.a,null,n&&!a&&i.a.createElement(Xt.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},i.a.createElement(ia,null,i.a.createElement(Qn.a,{when:n.fields.hasChanged,message:"You have unsaved changes. Are you sure you want to leave?"}),n.groups&&n.groups.map&&i.a.createElement(Hn.a,{className:"tabs-schema",defaultActiveKey:this.selectedGroup,onEdit:this.onTabsEdit,onChange:this.onTabsChange,type:"editable-card",ref:this.tabs},n.groups.map(this.renderGroup))),i.a.createElement(aa,{theme:"light",width:300,trigger:null,collapsed:!1,style:{padding:16,maxHeight:"calc(100vh - 64px)",overflowY:"auto"}},i.a.createElement(Xt.c,{droppableId:"AvailableFields",isDropDisabled:!0},function(n){return i.a.createElement("div",{ref:n.innerRef},t.map(e.renderAvailableField),n.placeholder)})))),n&&i.a.createElement(Zt.a,{title:"".concat(this.isNewField?"New":"Edit"," field"),width:360,placement:"right",maskClosable:!0,onClose:this.onEditFieldCancel,visible:this.isDrawerOpen},this.selectedField&&i.a.createElement(na,{ref:this.editField,availableFields:t,field:this.selectedField,schema:n.fields,onCancel:this.onEditFieldCancel,onSubmit:this.onEditFieldSubmit})))}}]),n}(i.a.Component),Tt=Object($.a)(jt.prototype,"isDrawerOpen",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=Object($.a)(jt.prototype,"isNewField",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt=Object($.a)(jt.prototype,"availableFields",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=Object($.a)(jt.prototype,"selectedField",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=Object($.a)(jt.prototype,"selectedGroup",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Main"}}),qt=Object($.a)(jt.prototype,"loading",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=Object($.a)(jt.prototype,"saving",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At=jt))||At,sa=(t(479),t(163)),da=(t(206),t(40)),ca=(t(973),t(255));function ua(){var e=Object(ne.a)(["\n        query schemaNameAvailable($name: String!, $variant: SchemaVariant) {\n          schemaNameAvailable(name: $name, variant: $variant)\n        }\n      "]);return ua=function(){return e},e}var ma,pa=["PageInfo","DocumentMeta"],fa=Kn.a.create({mapPropsToFields:function(e){var n={};if(e.item){var t=Object(U.toJS)(e.item);n.title=Kn.a.createFormField({value:Object(z.get)(t,"title","")}),n.name=Kn.a.createFormField({value:Object(z.get)(t,"name","")}),n.variant=Kn.a.createFormField({value:Object(z.get)(t,"variant","Default")}),n["settings.schemaIds"]=Kn.a.createFormField({value:Object(z.get)(t,"settings.schemaIds",[])}),n["settings.single"]=Kn.a.createFormField({value:Object(z.get)(t,"settings.single",!1)}),n["settings.mutations"]=Kn.a.createFormField({value:Object(z.get)(t,"settings.mutations",!0)})}return n}})(function(e){var n=e.form,t=e.onCancel,a=e.onSubmit,r=e.schemas,o=e.schemaId,l=e.item,c=n.getFieldDecorator,u=function(){var e=Object(d.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.query({query:ae()(ua()),variables:{name:n.getFieldValue("name"),variant:n.getFieldValue("variant")}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a&&a.schemaNameAvailable);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(t,i){var r,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=31;break}if(e.t0=l.name===i.name,e.t0){e.next=6;break}return e.next=5,u();case 5:e.t0=e.sent;case 6:if(e.t0){e.next=10;break}return n.setFields({name:{value:i.name,errors:[new Error("This name is already taken")]}}),e.abrupt("return");case 10:if(!(pa.indexOf(i.name)>=0)){e.next=13;break}return n.setFields({name:{value:i.name,errors:[new Error("Forbidden name")]}}),e.abrupt("return");case 13:if(r=Object(L.a)({},i),e.prev=14,d=null,!o||!l){e.next=21;break}return e.next=19,l.update(r);case 19:e.next=24;break;case 21:return e.next=23,$n.create(r);case 23:d=e.sent;case 24:return n.resetFields(),e.abrupt("return",a(d));case 28:e.prev=28,e.t1=e.catch(14),ca.a.error({message:"Could not create Schema",description:e.t1.message.replace(/^Error: /,""),duration:0,placement:"bottomRight"});case 31:case"end":return e.stop()}},e,this,[[14,28]])}));return function(n,t){return e.apply(this,arguments)}}()),e.abrupt("return",null);case 3:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a,{layout:"vertical",hideRequiredMark:!0,onSubmit:m},i.a.createElement(Kn.a.Item,{label:"Title"},c("title",{rules:[{required:!0,message:"Required field"}]})(i.a.createElement($t.a,{autoFocus:!0,autoComplete:"off",size:"large",onKeyUp:function(){n.setFieldsValue({name:Object(z.startCase)(n.getFieldValue("title")).replace(/ /g,"")})},placeholder:"e.g. Custom page"}))),i.a.createElement(Kn.a.Item,{label:"API Name"},c("name",{rules:[{required:!0,message:"Required field"},{pattern:/^[A-Z][A-Za-z0-9]+(?:[A-Za-z0-9]+)*$/,message:"Must be CamelCase"}]})(i.a.createElement($t.a,{placeholder:"e.g. CustomPage",autoComplete:"off",size:"large"}))),o?c("variant")(i.a.createElement("input",{type:"hidden"})):i.a.createElement(Kn.a.Item,{label:"Variant"},c("variant")(i.a.createElement(da.a,{size:"large"},i.a.createElement(da.a.Option,{key:"Default"},"Content Type"),i.a.createElement(da.a.Option,{key:"Template"},"Template"),i.a.createElement(da.a.Option,{key:"Slice"},"Slice")))),"Default"===n.getFieldValue("variant")&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ea.a,{dashed:!0}),i.a.createElement(Kn.a.Item,{label:"Templates"},c("settings.schemaIds")(i.a.createElement(da.a,{mode:"multiple",size:"large",style:{width:"100%"},placeholder:"No templates"},[].concat(r).filter(function(e){return"Template"===e.variant}).map(function(e){return i.a.createElement(da.a.Option,{key:e.id},e.title)})))),i.a.createElement(Kn.a.Item,{label:"Single"},c("settings.single",{initialValue:!1,valuePropName:"checked"})(i.a.createElement(sa.a,null))),i.a.createElement(Kn.a.Item,{label:"Mutations"},c("settings.mutations",{initialValue:!1,valuePropName:"checked"})(i.a.createElement(sa.a,null)))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:t},"Cancel"),i.a.createElement(R.a,{onClick:m,type:"primary",htmlType:"submit"},"Submit"))))}),va=[{key:"",tab:"Content Types"},{key:"slices",tab:"Slices"},{key:"templates",tab:"Templates"}],ka=Object(v.b)(ma=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).formRef=i.a.createRef(),t.state={visible:!1,settingsId:null,tab:Object(z.get)(t.props,"match.params.tab","")},t.onCreateNewClick=function(e){t.props.history.replace("/schemas/create")},t.onCloseDrawer=function(){t.formRef.current&&t.formRef.current.resetFields(),t.props.history.replace("/schemas/"+t.state.tab)},t.onTabChange=function(e){t.setState({tab:e}),t.props.history.replace("/schemas/"+e)},t.onRouteCreate=function(){return!1===t.state.visible&&t.setState({visible:!0,settingsId:null}),null},t.onRouteTabChange=function(e){var n=e.match.path.split("/"),a=n[n.length-1];return a!==t.state.tab&&t.setState({tab:a}),t.onRouteDefault()},t.onRouteSettings=function(e){var n=e.match.params.id;return t.state.settingsId!==n&&t.setState({settingsId:n}),t.onRouteCreate()},t.onRouteDefault=function(){return!0===t.state.visible&&t.setState({visible:!1}),null},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){$n.loadAll()}},{key:"render",value:function(){var e=this;return i.a.createElement(S.a,null,i.a.createElement(Pn,null,i.a.createElement("div",{style:{flex:1}},i.a.createElement("h2",{style:{margin:0}},"Schemas")),i.a.createElement(R.a,{type:"primary",onClick:this.onCreateNewClick},"Create new")),i.a.createElement(y.a,null,i.a.createElement(g.a,{render:this.onRouteCreate,exact:!0,path:"/schemas/create"}),i.a.createElement(g.a,{render:this.onRouteTabChange,exact:!0,path:"/schemas/slices"}),i.a.createElement(g.a,{render:this.onRouteTabChange,exact:!0,path:"/schemas/templates"}),i.a.createElement(g.a,{render:this.onRouteSettings,exact:!0,path:"/schemas/settings/:id"}),i.a.createElement(g.a,{render:this.onRouteDefault})),i.a.createElement(S.a.Content,{style:{padding:32}},i.a.createElement(j.a,{tabList:va,bodyStyle:{padding:0},className:"prime-table with-table-pagination",onTabChange:this.onTabChange,activeTabKey:this.state.tab,bordered:!1},i.a.createElement(K.a,{rowClassName:function(){return"prime-row-click"},dataSource:this.data.filter(function(n){switch(e.state.tab){case"slices":return"Slice"===n.variant;case"templates":return"Template"===n.variant;default:return"Default"===n.variant}}),columns:this.columns.filter(function(n){return"slices"!==e.state.tab&&"templates"!==e.state.tab||"type"!==n.key&&"documents"!==n.key}),pagination:!1,rowKey:"id",onRow:function(n){return{onClick:function(){return e.props.history.push("/schemas/edit/".concat(n.id))}}}}))),i.a.createElement(Zt.a,{title:"".concat(this.state.settingsId?"Edit":"Create"," Content Type"),width:360,placement:"right",maskClosable:!0,onClose:this.onCloseDrawer,visible:this.state.visible,className:"prime__drawer"},i.a.createElement(fa,{ref:this.formRef,schemaId:this.state.settingsId,item:this.state.settingsId?this.data.find(function(n){return n.id===e.state.settingsId}):{variant:"slices"===this.state.tab?"Slice":"templates"===this.state.tab?"Template":"Default"},schemas:this.data,onCancel:this.onCloseDrawer,onSubmit:function(n){e.onCloseDrawer(),n&&e.props.history.push("/schemas/edit/".concat(n.id))}})))}},{key:"columns",get:function(){var e=this;return[{title:"Title",dataIndex:"title",key:"title"},{title:"API Name",dataIndex:"name",key:"name",render:function(e,n){return i.a.createElement("i",null,n.name)}},{title:"Type",key:"type",render:function(e,n){return n.settings.single?"Single":"Repeatable"}},{title:"Documents",key:"documents",render:function(e,n){return i.a.createElement(F.a,{to:"/documents/by/type:".concat(n.name.toLocaleLowerCase()),onClick:function(e){return e.stopPropagation()}},n.documentCount," doc",1!==Number(n.documentCount)?"s":"",".")}},{title:"",key:"action",align:"right",render:function(n,t){return i.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},onClick:function(n){e.props.history.push("/schemas/settings/".concat(t.id))}},i.a.createElement(b.a,{type:"setting",theme:"filled"})),i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(){return t.remove()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8}},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}]}},{key:"data",get:function(){return $n.list}}]),n}(i.a.Component))||ma,ha=function(e){var n=e.match,t=e.location;return i.a.createElement(y.a,{key:"schemas",location:t},i.a.createElement(g.a,{path:"".concat(n.url,"/edit/:id"),exact:!0,component:la}),i.a.createElement(g.a,{component:ka}))},ga=(t(977),t(195));function ya(){var e=Object(ne.a)(["\n            mutation changeEmail($password: String!, $email: String!) {\n              changeEmail(password: $password, email: $email)\n            }\n          "]);return ya=function(){return e},e}var ba=Kn.a.create()(function(e){var n=e.form,t=e.forwardRef,a=e.close,r=e.visible;i.a.useEffect(function(){return n.resetFields()},[r]);return i.a.createElement(Kn.a,{onSubmit:function(e){e.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,t){var i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,Ae.mutate({mutation:ae()(ya()),variables:{password:t.oldpassword,email:t.email}});case 3:(i=e.sent).errors?i.errors.length&&i.errors[0].message.match(/duplicate key/)?M.a.error("This email address is already in use"):(r=i.errors[0].message||"Failed to change email",M.a.error(r)):(M.a.info("Verification email has been sent"),it.user.updateEmail(t.email),a());case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}())},ref:t},i.a.createElement(Kn.a.Item,{label:"Password",required:!0},n.getFieldDecorator("oldpassword",{rules:[{required:!0,message:"Please enter old password"}]})(i.a.createElement($t.a,{type:"password",size:"large",placeholder:"Password"}))),i.a.createElement(Kn.a.Item,{label:"New Email Address",required:!0},n.getFieldDecorator("email",{rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter valid email address"}]})(i.a.createElement($t.a,{placeholder:"New email address",autoComplete:"off",type:"email",size:"large"}))),i.a.createElement("input",{type:"submit",hidden:!0}))});function Ea(){var e=Object(ne.a)(["\n              mutation changePassword($oldpassword: String!, $newpassword: String!) {\n                changePassword(oldPassword: $oldpassword, newPassword: $newpassword)\n              }\n            "]);return Ea=function(){return e},e}var Sa=Kn.a.create()(function(e){var n=e.form,t=e.forwardRef,a=e.close,r=e.visible,o=i.a.useState(!1),l=Object(E.a)(o,2),c=l[0],u=l[1];i.a.useEffect(function(){return n.resetFields()},[r]);return i.a.createElement(Kn.a,{onSubmit:function(e){e.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,t){var i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,Ae.mutate({mutation:ae()(Ea()),variables:{oldpassword:t.oldpassword,newpassword:t.newpassword}});case 3:(i=e.sent).errors?(r=i.errors[0].message||"Failed to change password",M.a.error(r)):(M.a.info("Password has been changed"),a());case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}())},ref:t},i.a.createElement(Kn.a.Item,{label:"Password",required:!0},n.getFieldDecorator("oldpassword",{rules:[{required:!0,message:"Please enter old password"}]})(i.a.createElement($t.a,{type:"password",size:"large",placeholder:"Old Password"}))),i.a.createElement(Kn.a.Item,{label:"New Password",required:!0},n.getFieldDecorator("newpassword",{rules:[{required:!0,message:"Please enter a password"},{min:6,message:"Enter at least 6 characters"},{validator:function(e,t,a){t&&c&&n.validateFields(["confirm"],{force:!0}),a()}}]})(i.a.createElement($t.a,{autoComplete:"off",type:"password",size:"large",placeholder:"Password",onBlur:function(e){return u(c||!!e.target.value)}}))),i.a.createElement(Kn.a.Item,{label:"Confirm password",required:!0},n.getFieldDecorator("confirm",{rules:[{required:!0,message:"Please confirm the password"},{validator:function(e,t,a){return a(t&&t!==n.getFieldValue("newpassword")?"The passwords do not match":void 0)}}]})(i.a.createElement($t.a,{autoComplete:"off",type:"password",placeholder:"Confirm password",size:"large"}))),i.a.createElement("input",{type:"submit",hidden:!0}))});function wa(){var e=Object(ne.a)(["\n              mutation updateUser($id: ID!, $input: UpdateUserInput!) {\n                updateUser(id: $id, input: $input) {\n                  id\n                  meta {\n                    profile\n                  }\n                }\n              }\n            "]);return wa=function(){return e},e}var Na,Fa,Da,Oa=Kn.a.create()(function(e){var n=e.form,t=e.user;"".concat(String(t.firstname||"").split(" ")[0]," ").concat(String(t.lastname||"").substr(0,1),".");return i.a.createElement(Kn.a,{onSubmit:function(e){return e.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=6;break}return e.next=3,Ae.mutate({mutation:ae()(wa()),variables:{id:it.user.id,input:{profile:{firstname:a.firstname,lastname:a.lastname,displayName:a.displayName}}}});case 3:e.sent.data&&(t.updateMeta(a),M.a.info("Profile updated"));case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()),null}},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{maxWidth:448,minWidth:224}},i.a.createElement(Kn.a.Item,{label:"First name",colon:!1,style:{marginBottom:0}},n.getFieldDecorator("firstname",{initialValue:t.meta.profile.firstname})(i.a.createElement($t.a,null))),i.a.createElement(Kn.a.Item,{label:"Last name",colon:!1,style:{marginBottom:0}},n.getFieldDecorator("lastname",{initialValue:t.meta.profile.lastname})(i.a.createElement($t.a,null))),i.a.createElement(Kn.a.Item,{label:"Display name",colon:!1,style:{marginBottom:12}},n.getFieldDecorator("displayName",{initialValue:t.meta.profile.displayName})(i.a.createElement($t.a,null))),i.a.createElement(R.a,{htmlType:"submit"},"Update profile")),i.a.createElement("div",{style:{flex:1,paddingLeft:104}},i.a.createElement(Kn.a.Item,{label:"Avatar",colon:!1},i.a.createElement(Ft.a,{size:128,src:t.avatarUrl||t.gravatarUrl})))))}),Ia=t(551),Ca=Kn.a.create()(function(e){var n=e.form,t=i.a.useState(!1),a=Object(E.a)(t,2),r=a[0],o=a[1],l=i.a.useState(null),s=Object(E.a)(l,2),d=s[0],c=s[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=e.name,i=e.flag,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setFieldsValue({id:t,name:a,flag:i}),c(r),o(!0)},m=function(){o(!1),c(null)},p=null!==d&&d>=0,f=function(){return i.a.createElement(R.a,{onClick:function(){return u()}},"Create")},k=function(e){e.preventDefault();var t=n.getFieldsValue();t.flag=(t.flag.split(",")||[]).pop(),p?ke.locales[Number(d)].update(t):ke.addLocale(t),ke.save(),m()};return i.a.createElement(v.a,{render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{dataSource:ke.locales.slice(0),pagination:!1,footer:f,rowKey:"name",columns:[{key:"id",title:"ID",dataIndex:"id",width:"120px"},{key:"name",title:"Name",dataIndex:"name",render:function(e,n){return i.a.createElement("span",null,i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(n.flag),style:{marginRight:16}}),e)}},{align:"right",key:"actions",render:function(e,n,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement("strong",null,"Use as master?"),i.a.createElement("p",null,"All documents will resolve to this",i.a.createElement("br",null),"locale if none is specified.")),icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(){ke.setMasterLocale(n),ke.save()}},i.a.createElement(Nt.a,{title:""},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},disabled:n.master},i.a.createElement(b.a,{type:"star",theme:n.master?"filled":"outlined"})))),i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},onClick:function(){return u(n,t)}},i.a.createElement(b.a,{type:"edit",theme:"filled"})),i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(e){ke.removePreview(n),ke.save()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8},onClick:function(e){return e.stopPropagation()},disabled:n.master},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}]}),i.a.createElement(Zt.a,{title:"".concat(p?"Edit":"Create"," Locale"),width:360,placement:"right",maskClosable:!0,onClose:m,visible:r,className:"prime__drawer"},i.a.createElement(Kn.a,{onSubmit:k},i.a.createElement(Kn.a.Item,{label:"ID"},n.getFieldDecorator("id",{rules:[{required:!0},{pattern:/^[a-z]{2}(\-[A-Za-z]+)?$/,message:"Must be in a format like: is or en-GB"}]})(i.a.createElement($t.a,{size:"large",disabled:p,placeholder:"eg. en-GB",autoFocus:!p}))),i.a.createElement(Kn.a.Item,{label:"Name"},n.getFieldDecorator("name",{rules:[{required:!0}]})(i.a.createElement($t.a,{size:"large",placeholder:"eg. English (GB)"}))),i.a.createElement(Kn.a.Item,{label:"Flag"},n.getFieldDecorator("flag",{rules:[{required:!0}]})(i.a.createElement(da.a,{size:"large",placeholder:"Select country flag",showSearch:!0,filterOption:function(e,n){return n.key.indexOf(e.toLowerCase())>=0}},Object.entries(Ia).map(function(e){var n=Object(E.a)(e,2),t=n[0],a=n[1];return i.a.createElement(da.a.Option,{key:a.toLowerCase()+","+t.toLowerCase()},i.a.createElement("span",{className:"flagstrap-icon flagstrap-".concat(t.toLowerCase()),style:{marginRight:8}}),a)})))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:m},"Cancel"),i.a.createElement(R.a,{onClick:k,type:"primary",htmlType:"submit"},p?"Save":"Create")))))}})}),xa=Kn.a.create()(function(e){var n=e.form,t=i.a.useState(!1),a=Object(E.a)(t,2),r=a[0],o=a[1],l=i.a.useState(null),s=Object(E.a)(l,2),d=s[0],c=s[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,a=e.hostname,i=e.pathname,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setFieldsValue({name:t,hostname:a,pathname:i}),c(r),o(!0)},m=function(){o(!1),c(null)},p=null!==d&&d>=0,f=function(){return i.a.createElement(R.a,{onClick:function(){return u()}},"Create")},k=function(e){e.preventDefault();var t=n.getFieldsValue();p?ke.previews[Number(d)].update(t):ke.addPreview(t),ke.save(),m()};return i.a.createElement(v.a,{render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{dataSource:ke.previews.slice(0),pagination:!1,footer:f,rowKey:"name",columns:[{key:"name",title:"Name",dataIndex:"name"},{key:"hostname",title:"Hostname",dataIndex:"hostname"},{key:"pathname",title:"Path",dataIndex:"pathname"},{align:"right",key:"actions",render:function(e,n,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},onClick:function(e){e.stopPropagation(),u(n,t)}},i.a.createElement(b.a,{type:"edit",theme:"filled"})),i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(e){e.stopPropagation(),ke.removePreview(n),ke.save()},onCancel:function(e){e.stopPropagation()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8},onClick:function(e){return e.stopPropagation()}},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}]}),i.a.createElement(Zt.a,{title:"".concat(p?"Edit":"Create"," Preview"),width:360,placement:"right",maskClosable:!0,onClose:m,visible:r,className:"prime__drawer"},i.a.createElement(Kn.a,{onSubmit:k},i.a.createElement(Kn.a.Item,{label:"Name"},n.getFieldDecorator("name",{rules:[{required:!0}]})(i.a.createElement($t.a,{autoFocus:!p,size:"large",placeholder:"eg. Staging"}))),i.a.createElement(Kn.a.Item,{label:"Preview URL"},n.getFieldDecorator("hostname",{rules:[{required:!0},{type:"url",message:"Must be a valid URL"}]})(i.a.createElement($t.a,{size:"large",placeholder:"https://yoursite.com"}))),i.a.createElement(Kn.a.Item,{label:"Preview Path"},n.getFieldDecorator("pathname")(i.a.createElement($t.a,{size:"large",placeholder:"/preview"}))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:m},"Cancel"),i.a.createElement(R.a,{onClick:k,type:"primary",htmlType:"submit"},p?"Save":"Create")))))}})}),Aa=(t(1170),t(256)),ja=t(28),Ta=t.n(ja),Pa=Kn.a.create()(function(e){var n=e.form,t=e.isOpen,a=e.onClose,r=e.item;i.a.useEffect(function(){n.resetFields()},[t]);var o=function(){var e=Object(d.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,t){var i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.mutate({mutation:r?an.a:Ve.a,variables:Object(L.a)({},r?{id:r.id}:{},{input:{name:t.name,description:t.description,scheduledAt:t.scheduledAt}})});case 2:i=e.sent,(o=i.data)&&(r&&o.updateRelease?(r.update(o.updateRelease),a()):!r&&o.createRelease&&(xn.add(dn.create(o.createRelease)),a()));case 5:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()),e.abrupt("return",!1);case 3:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),l=Boolean(r);return i.a.createElement(Zt.a,{title:"".concat(l?"Edit":"Create"," Release"),width:360,placement:"right",maskClosable:!0,onClose:a,visible:t,className:"prime__drawer"},i.a.createElement(Kn.a,{onSubmit:o},i.a.createElement(Kn.a.Item,{label:"Name"},n.getFieldDecorator("name",{rules:[{required:!0}],initialValue:r?r.name:""})(i.a.createElement($t.a,{autoFocus:!l,size:"large",placeholder:"eg. Feature X"}))),i.a.createElement(Kn.a.Item,{label:"Description"},n.getFieldDecorator("description",{initialValue:r?r.description:""})(i.a.createElement($t.a,{size:"large"}))),i.a.createElement(Kn.a.Item,{label:"Publish at"},n.getFieldDecorator("scheduledAt",{initialValue:r&&null!==r.scheduledAt?Ta()(r.scheduledAt):void 0})(i.a.createElement(Aa.a,{size:"large",showTime:!0,format:"YYYY-MM-DD HH:mm:ss",allowClear:!0,disabledDate:function(e){return null==e||e.isBefore()}}))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:a},"Cancel"),i.a.createElement(R.a,{onClick:o,type:"primary",htmlType:"submit"},l?"Save":"Create"))))}),Va=Object(v.b)((Fa=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i))),Object(B.a)(t,"isOpen",Da,Object(G.a)(Object(G.a)(t))),t.onClickDelete=function(){var e=Object(d.a)(s.a.mark(function e(n){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.mutate({mutation:Ke.a,variables:{id:n.id}});case 2:(t=e.sent).data&&t.data.removeRelease?xn.remove(n):M.a.error("Could not remove release");case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t.onClickCreate=function(){t.isOpen=!0},t.onClickPublish=function(){var e=Object(d.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.publish();case 2:t.forceUpdate();case 3:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){xn.loadAll()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{rowKey:"id",rowClassName:function(e){return e.publishedAt?"":"prime-row-click"},columns:this.columns,footer:function(){return i.a.createElement(R.a,{onClick:function(){e.isOpen=!0}},"Create")},dataSource:xn.list,pagination:!1,onRow:function(n){return{onClick:function(){n.publishedAt||e.props.history.push("/documents/by/release:".concat(n.id))}}}}),i.a.createElement(Pa,{isOpen:this.isOpen,onClose:function(){e.isOpen=!1,e.item=null},item:this.item}))}},{key:"columns",get:function(){var e=this;return[{key:"name",title:"Name",dataIndex:"name"},{key:"description",title:"Description",dataIndex:"description"},{key:"scheduledAt",title:"Scheduled",render:function(e,n){return n.scheduledAt?Object(_.format)(n.scheduledAt,"YYYY-MM-DD HH:mm"):"---"}},{key:"documents",title:"",render:function(e,n){return n.publishedAt?"".concat(Object(_.distanceInWordsToNow)(n.publishedAt)," ago"):i.a.createElement("span",null,n.documentsCount," doc",1===n.documentsCount?"":"s",".")}},{key:"actions",align:"right",render:function(n,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{disabled:t.publishedAt,onClick:function(n){n.stopPropagation(),W.a.confirm({title:"Do you want to publish ".concat(t.name,"?"),content:"This release contains ".concat(t.documents," documents"),onOk:function(){return e.onClickPublish(t)}})},style:{marginRight:8}},"Publish"),i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},disabled:t.publishedAt,onClick:function(n){e.isOpen=!0,e.item=t,n.stopPropagation()}},i.a.createElement(b.a,{type:"edit",theme:"filled"})),i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(n){n.stopPropagation(),e.onClickDelete(t)},onCancel:function(e){return e.stopPropagation()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8},onClick:function(e){return e.stopPropagation()}},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}]}}]),n}(i.a.Component),Da=Object($.a)(Fa.prototype,"isOpen",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Na=Fa))||Na,Ra=Kn.a.create()(function(e){var n=e.form;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a,{onSubmit:function(e){e.preventDefault(),ke.setAccessType(n.getFieldValue("accessType")),ke.save(),M.a.success("Settings have been saved")}},i.a.createElement(Kn.a.Item,{label:"API Access"},n.getFieldDecorator("accessType",{initialValue:ke.accessType})(i.a.createElement(da.a,{style:{width:150}},i.a.createElement(da.a.Option,{key:"PUBLIC"},"Public"),i.a.createElement(da.a.Option,{key:"PRIVATE"},"Private")))),i.a.createElement(R.a,{htmlType:"submit"},"Save")))}),La=(t(984),t(361)),qa=t.n(La);function Ma(){var e=Object(ne.a)(["\n          query {\n            allUsers {\n              edges {\n                node {\n                  id\n                  meta {\n                    profile\n                  }\n                  username\n                  emails {\n                    address\n                    verified\n                  }\n                }\n              }\n            }\n          }\n        "]);return Ma=function(){return e},e}function Ba(){var e=Object(ne.a)(["\n            mutation createUser($email: String!, $password: String, $profile: JSON) {\n              createPrimeUser(email: $email, password: $password, profile: $profile)\n            }\n          "]);return Ba=function(){return e},e}function Ga(){var e=Object(ne.a)(["\n        mutation removeUser($id: ID!) {\n          removeUser(id: $id)\n        }\n      "]);return Ga=function(){return e},e}var $a=Kn.a.create()(function(e){var n,t=e.form,a=i.a.useState(!1),r=Object(E.a)(a,2),o=r[0],l=r[1],c=i.a.useState(!1),u=Object(E.a)(c,2),m=u[0],p=u[1],f=i.a.useState(null),v=Object(E.a)(f,2),k=(v[0],v[1],function(){p(!1)}),h=function(){t.resetFields(),p(!0)},g=function(){var e=Object(d.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.mutate({mutation:ae()(Ga()),variables:{id:t}});case 2:e.sent.data&&(n(),M.a.info("User has been removed"));case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault(),t.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(t,a){var i,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,Ae.mutate({mutation:ae()(Ba()),variables:{email:a.email,password:a.enrollment?a.password:void 0,profile:{firstname:a.firstname||"",lastname:a.lastname||""}}});case 3:i=e.sent,(r=i.data)&&r.createPrimeUser&&(k(),n());case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}())},S=[{key:"name",title:"Name",render:function(e,n){var t=n.node,a=Object(z.get)(t,"emails.0.address",""),r=Object(z.get)(t,"profile.firstname",""),o=Object(z.get)(t,"profile.lastname","");return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ft.a,{style:{backgroundColor:Ct(a),marginRight:16}},r.substring(0,1),o.substring(0,1)),[r,o].join(" "))}},{key:"email",title:"Email",render:function(e,n){return Object(z.get)(n,"node.emails.0.address")}},{key:"actions",align:"right",render:function(e,n){return it.user.ability.cannot("delete","User")?null:i.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(){return g(n.node.id)},trigger:n.node.id===it.user.id?"contextMenu":void 0},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8},disabled:n.node.id===it.user.id},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}],w=t.getFieldValue("enrollment");return i.a.createElement(i.a.Fragment,null,i.a.createElement(It.a,{client:Ae,query:ae()(Ma())},function(e){var t=e.data,a=(e.loading,e.error),r=e.refetch;return a?null:(n=r,i.a.createElement(K.a,{footer:function(){return i.a.createElement(R.a,{disabled:!it.user.ability.can("create","User"),onClick:h},"Create")},columns:S,dataSource:t&&t.allUsers&&t.allUsers.edges,rowClassName:function(){return"prime-row-click"},rowKey:"id",onRow:function(e){return{onClick:function(){return null}}}}))}),i.a.createElement(Zt.a,{title:"".concat("Create"," User"),width:360,placement:"right",maskClosable:!0,onClose:k,visible:m,className:"prime__drawer"},i.a.createElement(Kn.a,{onSubmit:y},i.a.createElement(Kn.a.Item,{label:"First name"},t.getFieldDecorator("firstname")(i.a.createElement($t.a,{autoFocus:!0}))),i.a.createElement(Kn.a.Item,{label:"Last name"},t.getFieldDecorator("lastname")(i.a.createElement($t.a,null))),i.a.createElement(Kn.a.Item,{label:"Email address"},t.getFieldDecorator("email",{rules:[{type:"email",message:"Please enter a valid email address"},{required:!0,message:"Please enter an email address"}]})(i.a.createElement($t.a,{placeholder:"Email address",size:"large"}))),i.a.createElement(Kn.a.Item,{label:"Enrollment"},t.getFieldDecorator("enrollment",{initialValue:!1,valuePropName:"checked"})(i.a.createElement(sa.a,null))),!w&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Kn.a.Item,{label:"Password"},t.getFieldDecorator("password",{rules:[{required:!w,message:"Please enter a password"},{min:6,message:"Enter at least 6 characters"},{validator:function(e,n,a){n&&o&&t.validateFields(["confirm"],{force:!0}),a()}}]})(i.a.createElement($t.a,{disabled:w,type:"password",size:"large",placeholder:"Password",onBlur:function(e){var n=e.target.value;l(o||!!n)}}))),i.a.createElement(Kn.a.Item,{label:"Confirm password"},t.getFieldDecorator("confirm",{rules:[{required:!w,message:"Please confirm the password"},{validator:function(e,n,a){n&&n!==t.getFieldValue("password")?a("The passwords do not match"):a()}}]})(i.a.createElement($t.a,{type:"password",placeholder:"Confirm password",size:"large"})))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:k},"Cancel"),i.a.createElement(R.a,{onClick:y,type:"primary",htmlType:"submit"},"Create")))))});function _a(){var e=Object(ne.a)(["\n        query Webhook(id:ID!) {\n          Webhook(id:$id) {\n            id\n            calls {\n              id\n              success\n              status\n              request\n              response\n              executedAt\n            }\n          }\n        }\n      "]);return _a=function(){return e},e}var za,Ua=function(e){var n=e.match;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Activity Log"),i.a.createElement(It.a,{client:Ae,variables:{id:n.params.webhookId},fetchPolicy:"network-only",query:ae()(_a())},function(e){var n=e.data,t=(e.error,e.loading,Object(z.get)(n,"Webhook.calls",[]));return i.a.createElement(K.a,{dataSource:t,pagination:!1,rowKey:"name",columns:[{key:"executedAt",title:"Executed At",render:function(e,n){return Object(_.format)(n.executedAt,"YYYY-MM-DD HH:mm:ss")}},{key:"status",title:"Status",dataIndex:"status",render:function(e,n){if(-1===n.status)return i.a.createElement(Ot.a,{status:"error",text:"ECONNREFUSED"});var t=n.success?"success":"warning";return i.a.createElement(Ot.a,{status:t,text:"HTTP ".concat(n.status)})}}]})}))},Wa=[{key:"account",title:"Account",component:function(){var e=it.user,n=i.a.useState(!1),t=Object(E.a)(n,2),a=t[0],r=t[1],o=i.a.useState(!1),l=Object(E.a)(o,2),s=l[0],d=l[1],c=i.a.useRef(null),u=i.a.useRef(null),m=[{title:"Password",actions:[i.a.createElement("a",{onClick:function(){return r(!0)}},"Change password")]},{title:"Email Address",description:Object(z.get)(e,"emails.0.address"),actions:[i.a.createElement("a",{onClick:function(){return d(!0)}},"Change email")]}];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Account Information"),i.a.createElement(Oa,{user:e}),i.a.createElement(ea.a,{style:{marginBottom:0,marginTop:32}}),i.a.createElement(v.a,{render:function(){return i.a.createElement(ga.a,{itemLayout:"horizontal",dataSource:m,renderItem:function(e){var n=e.avatar,t=e.actions,a=e.title,r=e.description;return i.a.createElement(ga.a.Item,{actions:t},i.a.createElement(ga.a.Item.Meta,{avatar:n,title:a,description:r}))}})}}),i.a.createElement(W.a,{visible:s,title:"Change Email Address",onOk:function(e){return c.current.props.onSubmit(e)},okText:"Change",onCancel:function(){return d(!1)}},i.a.createElement(ba,{forwardRef:c,close:function(){return d(!1)},visible:s})),i.a.createElement(W.a,{visible:a,title:"Change Password",onOk:function(e){return u.current.props.onSubmit(e)},okText:"Change",onCancel:function(){return r(!1)}},i.a.createElement(Sa,{forwardRef:u,close:function(){return r(!1)},visible:a})))}},{key:"users",title:"Users",component:$a,visible:function(e){return e.can("list","User")}},{key:"security",title:"Security",component:Ra},{key:"webhooks",title:"Webhooks",component:Kn.a.create()(function(e){var n=e.form,t=e.history,a=i.a.useState(!1),r=Object(E.a)(a,2),o=r[0],l=r[1],c=i.a.useState(null),u=Object(E.a)(c,2),m=u[0],p=u[1];i.a.useEffect(function(){ut.Webhooks.loadAll()},[]);var f=function(e){if(e){p(e);var t=e.name,a=e.url,i=e.method,r=void 0===i?"POST":i;n.setFieldsValue({name:t,url:a,method:r})}else n.resetFields();l(!0)},k=function(){l(!1),p(null)},h=null!==m,g=function(){return i.a.createElement(R.a,{onClick:function(){return f()}},"Create")},y=function(e){e.preventDefault(),n.validateFieldsAndScroll(function(){var e=Object(d.a)(s.a.mark(function e(n,t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=15;break}if(e.prev=1,!h||!m){e.next=7;break}return e.next=5,m.update(t);case 5:e.next=9;break;case 7:return e.next=9,ut.Webhooks.create(t);case 9:k(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M.a.error(e.t0.message);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(n,t){return e.apply(this,arguments)}}())};return i.a.createElement(v.a,{render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(K.a,{dataSource:ut.Webhooks.list,pagination:!1,footer:g,rowKey:"name",columns:[{key:"name",title:"Name",dataIndex:"name"},{key:"url",title:"Url",dataIndex:"url"},{key:"method",title:"Method",dataIndex:"method"},{key:"",title:"Successful calls",render:function(e,n){var t=0===n.count,a=n.success/n.count,r=t?"default":1===a?"success":a>.9?"warning":"error";return i.a.createElement(Ot.a,{status:r,text:t?"n/a":"".concat(Math.floor(100*a),"%")})}},{align:"right",key:"actions",render:function(e,n,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},onClick:function(e){e.stopPropagation(),t.push("/settings/webhooks/".concat(n.id))}},i.a.createElement(b.a,{type:"database",theme:"filled"})),i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8,marginRight:8},onClick:function(e){e.stopPropagation(),f(n)}},i.a.createElement(b.a,{type:"edit",theme:"filled"})),i.a.createElement(A.a,{title:"Are you sure?",icon:i.a.createElement(b.a,{type:"question-circle-o",style:{color:"red"}}),onConfirm:function(e){ut.Webhooks.remove(n),e.stopPropagation()},onCancel:function(e){e.stopPropagation()}},i.a.createElement(R.a,{style:{paddingLeft:8,paddingRight:8},onClick:function(e){return e.stopPropagation()}},i.a.createElement(b.a,{type:"delete",theme:"filled"}))))}}]}),i.a.createElement(Zt.a,{title:"".concat(h?"Edit":"Create"," Webhook"),width:360,placement:"right",maskClosable:!0,onClose:k,visible:o,className:"prime__drawer"},i.a.createElement(Kn.a,{onSubmit:y},i.a.createElement(Kn.a.Item,{label:"Name"},n.getFieldDecorator("name",{rules:[{required:!0}]})(i.a.createElement($t.a,{autoFocus:!h,size:"large"}))),i.a.createElement(Kn.a.Item,{label:"URL"},n.getFieldDecorator("url",{rules:[{required:!0},{type:"url",message:"Must be a valid URL"}]})(i.a.createElement($t.a,{size:"large",placeholder:"https://yoursite.com"}))),i.a.createElement(Kn.a.Item,{label:"Method"},n.getFieldDecorator("method",{rules:[{required:!0}],initialValue:"POST"})(i.a.createElement(da.a,{size:"large"},i.a.createElement(da.a.Option,{key:"POST"},"POST"),i.a.createElement(da.a.Option,{key:"GET"},"GET"),i.a.createElement(da.a.Option,{key:"PUT"},"PUT"),i.a.createElement(da.a.Option,{key:"PATCH"},"PATCH"),i.a.createElement(da.a.Option,{key:"DELETE"},"DELETE")))),i.a.createElement("div",{className:"prime__drawer__bottom"},i.a.createElement(R.a,{style:{marginRight:8},onClick:k},"Cancel"),i.a.createElement(R.a,{onClick:y,type:"primary",htmlType:"submit"},h?"Save":"Create")))))}})})},{key:"releases",title:"Releases",component:Va},{key:"previews",title:"Previews",component:xa},{key:"locales",title:"Locales",component:Ca},{key:"system",title:"System",component:function(){var e=i.a.useState(!1),n=Object(E.a)(e,2),t=n[0],a=n[1];i.a.useEffect(function(){ke.readVersion()},[]);var r=i.a.useState([]),o=Object(E.a)(r,2),l=o[0],c=o[1],u=function(){var e=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ke.packages){e.next=13;break}return a(!0),e.prev=2,e.next=5,ke.updateSystem(l);case 5:alert("Packages have been updated. Please restart the server."),c([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert("Could not update packages");case 12:a(!1);case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}();return i.a.createElement(v.a,{render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"System Information"),i.a.createElement(K.a,{columns:[{key:"name",title:"Package name",dataIndex:"name"},{key:"currentVersion",title:"Current version",dataIndex:"currentVersion"},{key:"latestVersion",title:"Latest version",dataIndex:"latestVersion",render:function(e,n){var t=n.latestVersion,a=n.currentVersion,r=t&&a&&qa.a.gt(t,a);return i.a.createElement("span",{style:{fontStyle:r?"":"italic"}},e)}}],loading:0===ke.packages.length,pagination:!1,rowKey:"name",rowSelection:{selectedRowKeys:l,onChange:function(e,n){c(e)},getCheckboxProps:function(e){var n=e.name,t=e.latestVersion,a=e.currentVersion;return{disabled:!(t&&a&&qa.a.gt(t,a)),name:n}}},dataSource:ke.packages,footer:function(){return i.a.createElement(R.a,{loading:t,onClick:u,disabled:0===l.length},"Update (beta)")}}))}})}}],Ka=function(e){var n=e.visible;return!n||n(it.user.ability)},Ha=function(e){var n=e.match.path,t=e.location.pathname.replace(new RegExp("^".concat(n,"/?")),"").split("/")||["account"],a=Object(E.a)(t,1)[0];return i.a.createElement(S.a,{className:"prime__settings"},i.a.createElement(Pn,null,i.a.createElement("div",{style:{flex:1}},i.a.createElement("h2",{style:{margin:0}},"Settings"))),i.a.createElement(S.a.Content,{className:"prime__settings__content"},i.a.createElement(j.a,{bordered:!1,className:"prime__settings__card"},i.a.createElement("div",{className:"prime__settings__left"},i.a.createElement(w.b,{mode:"inline",selectedKeys:[a],className:"prime__settings__menu"},Wa.filter(Ka).map(function(e){var t=e.key,a=e.title;return i.a.createElement(w.b.Item,{key:t},i.a.createElement(D.a,{to:"".concat(n,"/").concat(t),className:"nav-text"},a))}))),i.a.createElement("div",{className:"prime__settings__right"},i.a.createElement(y.a,null,i.a.createElement(g.a,{exact:!0,path:"".concat(n,"/webhooks/:webhookId"),component:Ua}),Wa.map(function(e){var t=e.key,a=e.component;return i.a.createElement(g.a,{path:"".concat(n,"/").concat(t),component:a,key:t})}),i.a.createElement(Ut.a,{to:"".concat(n,"/account")}))))))},Qa=Object(v.b)(function(e){var n=e.children;return it.isLoggedIn?n:it.isSetup?i.a.createElement(k.a,{to:"/setup"}):i.a.createElement(k.a,{to:"/login"})}),Ya=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).state={loading:!0},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.checkLogin();case 2:this.setState({loading:!1});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?null:i.a.createElement(h.a,{basename:ke.path},i.a.createElement(g.a,{render:function(e){var n=e.location,t=n.pathname,a="private",r=t.split("/")[1];switch(r){case"schemas":t="schemas";break;case"setup":case"login":case"logout":a=r}return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{key:a,location:n},i.a.createElement(g.a,{path:"/setup",exact:!0,component:Ht}),i.a.createElement(g.a,{path:"/login",exact:!0,component:zt}),i.a.createElement(g.a,{path:"/reset-password/:token?",exact:!0,component:Jt}),i.a.createElement(g.a,{path:"/verify-email/:token",exact:!0,component:zt}),i.a.createElement(g.a,{path:"/logout",exact:!0,component:Wt}),i.a.createElement(Qa,null,i.a.createElement(x,null,i.a.createElement(y.a,{key:t,location:n},i.a.createElement(g.a,{path:"/",exact:!0,render:function(){return i.a.createElement(k.a,{to:"/documents"})}}),i.a.createElement(g.a,{path:"/schemas",component:ha}),i.a.createElement(g.a,{path:"/documents",exact:!0,component:Gt}),i.a.createElement(g.a,{path:"/playground",exact:!0,component:Qt}),i.a.createElement(g.a,{path:"/documents/doc/:entryId/:options?",exact:!0,component:wt}),i.a.createElement(g.a,{path:"/documents/by/:options?",exact:!0,component:Gt}),i.a.createElement(g.a,{path:"/documents/create/:options",exact:!0,component:wt}),i.a.createElement(g.a,{path:"/settings",component:Ha}))))))}}))}}]),n}(i.a.Component);window.React=i.a,window.ReactDOM=o.a,window.Antd=t(1165),window.lodash=t(32),window.moment=t(28),window.BraftEditor=t(1141),za=Ya,o.a.render(i.a.createElement(za,null),document.getElementById("root"))},420:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createDocument"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DocumentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:203}};t.loc.source={body:"mutation createDocument($input: DocumentInput!) {\n  createDocument(input: $input) {\n    id\n    documentId\n    schemaId\n    releaseId\n    locale\n    data\n    publishedAt\n    createdAt\n    updatedAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.createDocument=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"createDocument")},421:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createRelease"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReleaseInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createRelease"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scheduledAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:195}};t.loc.source={body:"mutation createRelease($input: ReleaseInput!) {\n  createRelease(input: $input) {\n    id\n    name\n    description\n    scheduledAt\n    publishedAt\n    publishedBy\n    updatedAt\n    createdAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.createRelease=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"createRelease")},422:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateSchema"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SchemaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createSchema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};t.loc.source={body:"mutation CreateSchema($input: SchemaInput!) {\n  createSchema(input: $input) {\n    id\n    name\n    title\n    groups\n    settings\n    variant\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.CreateSchema=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"CreateSchema")},423:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateWebhook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WebhookInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createWebhook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:148}};t.loc.source={body:"mutation CreateWebhook($input:WebhookInput!) {\n  createWebhook(input:$input) {\n    id\n    name\n    url\n    method\n    createdAt\n    updatedAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.CreateWebhook=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"CreateWebhook")},424:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"publishDocument"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:250}};t.loc.source={body:"mutation publishDocument($id: ID!) {\n  publishDocument(id: $id) {\n    id\n    locale\n    data\n    schemaId\n    releaseId\n    publishedAt\n    createdAt\n    updatedAt\n    versions {\n      id\n      publishedAt\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.publishDocument=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"publishDocument")},425:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"publishRelease"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishRelease"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:77}};t.loc.source={body:"mutation publishRelease($id: ID!) {\n  publishRelease(id: $id) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.publishRelease=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"publishRelease")},426:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeContentEntry"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentReleaseId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"releaseId"},value:{kind:"Variable",name:{kind:"Name",value:"contentReleaseId"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}}],directives:[]}]}}],loc:{start:0,end:159}};t.loc.source={body:"mutation removeContentEntry($id: ID!, $contentReleaseId: ID, $language: String) {\n  removeDocument(id: $id, releaseId: $contentReleaseId, locale: $language)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.removeContentEntry=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"removeContentEntry")},427:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeRelease"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeRelease"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:62}};t.loc.source={body:"mutation removeRelease($id: ID!) {\n  removeRelease(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.removeRelease=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"removeRelease")},428:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeSchema"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeSchema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:60}};t.loc.source={body:"mutation removeSchema($id: ID!) {\n  removeSchema(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.removeSchema=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"removeSchema")},429:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeWebhook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeWebhook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:62}};t.loc.source={body:"mutation removeWebhook($id: ID!) {\n  removeWebhook(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.removeWebhook=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"removeWebhook")},430:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateSchema"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SchemaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSchema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentTypeId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:405}};t.loc.source={body:"mutation updateSchema($id: ID!, $input: SchemaInput!) {\n  updateSchema(id: $id, input: $input) {\n    id\n    name\n    title\n    groups\n    settings\n    variant\n    fields {\n      id\n      name\n      title\n      description\n      type\n      options\n      isDisplay\n      contentTypeId\n      fields {\n        id\n        name\n        title\n        description\n        type\n        options\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.updateSchema=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"updateSchema")},431:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"unpublishDocument"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpublishDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:268}};t.loc.source={body:"mutation unpublishDocument($id: ID!) {\n  unpublishDocument(id: $id) {\n    id\n    releaseId\n    schemaId\n    releaseId\n    locale\n    publishedAt\n    data\n    createdAt\n    updatedAt\n    versions {\n      id\n      publishedAt\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.unpublishDocument=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"unpublishDocument")},432:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateDocument"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"JSON"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"releaseId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}},{kind:"Argument",name:{kind:"Name",value:"releaseId"},value:{kind:"Variable",name:{kind:"Name",value:"releaseId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:362}};t.loc.source={body:"mutation updateDocument($id: ID!, $data: JSON, $locale: String, $releaseId: ID) {\n  updateDocument(id: $id, data: $data, locale: $locale, releaseId: $releaseId) {\n    id\n    documentId\n    schemaId\n    releaseId\n    locale\n    data\n    publishedAt\n    createdAt\n    updatedAt\n    versions {\n      id\n      publishedAt\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.updateDocument=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"updateDocument")},433:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateRelease"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReleaseInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateRelease"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scheduledAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:214}};t.loc.source={body:"mutation updateRelease($id: ID!, $input: ReleaseInput!) {\n  updateRelease(id: $id, input: $input) {\n    id\n    name\n    description\n    scheduledAt\n    publishedAt\n    publishedBy\n    updatedAt\n    createdAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.updateRelease=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"updateRelease")},434:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateSchema"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SchemaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSchema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:520}};t.loc.source={body:"mutation UpdateSchema($id: ID!, $input: SchemaInput!) {\n  updateSchema(id: $id, input: $input) {\n    id\n    name\n    title\n    groups\n    settings\n    variant\n    documentCount\n    fields {\n      title\n      fields {\n        id\n        name\n        title\n        description\n        type\n        options\n        primary\n        schemaId\n        fields {\n          id\n          name\n          title\n          description\n          type\n          options\n          primary\n          schemaId\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.UpdateSchema=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"UpdateSchema")},435:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateWebhook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WebhookInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateWebhook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};t.loc.source={body:"mutation UpdateWebhook(\n  $id: ID!\n  $input: WebhookInput!\n) {\n  updateWebhook(\n    id: $id\n    input: $input\n  ) {\n    id\n    name\n    url\n    method\n    createdAt\n    updatedAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.UpdateWebhook=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"UpdateWebhook")},436:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allReleases"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allReleases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scheduledAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:244}};t.loc.source={body:"query allReleases {\n  allReleases {\n    edges {\n      node {\n        id\n        name\n        description\n        documentsCount\n        scheduledAt\n        publishedAt\n        publishedBy\n        updatedAt\n        createdAt\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.allReleases=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"allReleases")},437:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allSchemas"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemas"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:616}};t.loc.source={body:"query allSchemas {\n  allSchemas {\n    edges {\n      node {\n        id\n        name\n        title\n        groups\n        settings\n        variant\n        documentCount\n        fields {\n          title\n          fields {\n            id\n            name\n            title\n            description\n            type\n            options\n            primary\n            schemaId\n            fields {\n              id\n              name\n              title\n              description\n              type\n              options\n              primary\n              schemaId\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.allSchemas=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"allSchemas")},438:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allFields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultOptions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ui"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};t.loc.source={body:"query {\n  allFields {\n    type\n    title\n    description\n    defaultOptions\n    ui\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t},439:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:201}};t.loc.source={body:"query {\n  allUsers {\n    edges {\n      node {\n        id\n        meta {\n          profile\n        }\n        emails {\n          address\n          verified\n        }\n        username\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t},440:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allWebhooks"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allWebhooks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:218}};t.loc.source={body:"query allWebhooks {\n  allWebhooks {\n    edges {\n      node {\n        id\n        name\n        url\n        method\n        # count\n        # success\n        options\n        createdAt\n        updatedAt\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.allWebhooks=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"allWebhooks")},441:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentEntriesByContentType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentTypeId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allDocuments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaId"},value:{kind:"Variable",name:{kind:"Name",value:"contentTypeId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:348}};t.loc.source={body:"query contentEntriesByContentType($contentTypeId: ID) {\n  allDocuments(first: 100, filter: { schemaId: $contentTypeId }) {\n    totalCount\n    edges {\n      node {\n        id\n        documentId\n        schemaId\n        releaseId\n        locale\n        primary\n        data\n        createdAt\n        updatedAt\n        publishedAt\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.contentEntriesByContentType=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"contentEntriesByContentType")},442:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentEntryById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"releaseId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Document"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"releaseId"},value:{kind:"Variable",name:{kind:"Name",value:"releaseId"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"releaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:341}};t.loc.source={body:"query contentEntryById($id: ID!, $releaseId: ID, $locale: String) {\n  Document(id: $id, releaseId: $releaseId, locale: $locale) {\n    id\n    documentId\n    schemaId\n    releaseId\n    locale\n    publishedAt\n    data\n    primary\n    createdAt\n    updatedAt\n    versions {\n      id\n      publishedAt\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.contentEntryById=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"contentEntryById")},443:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentTypeById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Schema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documentCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:467}};t.loc.source={body:"query contentTypeById($id: ID, $name: String) {\n  Schema(id: $id, name: $name) {\n    id\n    name\n    title\n    variant\n    groups\n    settings\n    documentCount\n    fields {\n      title\n      fields {\n        id\n        name\n        title\n        description\n        type\n        options\n        primary\n        schemaId\n        fields {\n          id\n          name\n          title\n          description\n          type\n          options\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.contentTypeById=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"contentTypeById")},444:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ability"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:131}};t.loc.source={body:"{\n  getUser {\n    id\n    emails {\n      address\n      verified\n    }\n    username\n    meta {\n      profile\n    }\n    ability\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t},445:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"loadSchema"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentTypeId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entryId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getContentTypeSchema"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentTypeId"},value:{kind:"Variable",name:{kind:"Name",value:"contentTypeId"}}},{kind:"Argument",name:{kind:"Name",value:"entryId"},value:{kind:"Variable",name:{kind:"Name",value:"entryId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentTypeId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:408}};t.loc.source={body:"query loadSchema(\n    $contentTypeId: ID\n    $entryId: ID\n  ) {\n  getContentTypeSchema(\n    contentTypeId: $contentTypeId\n    entryId: $entryId\n    ) {\n    title\n    fields {\n      id\n      name\n      title\n      description\n      type\n      options\n      isDisplay\n      contentTypeId\n      fields {\n        id\n        name\n        title\n        description\n        type\n        options\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var a=n.type;"NamedType"===a.kind&&t.add(a.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=t,e.exports.loadSchema=function(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,o=new Set,l=new Set;for(r.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(n){var a=i(e,n);a&&t.definitions.push(a)}),t}(t,"loadSchema")},540:function(e,n,t){e.exports={toolbar:"Toolbar_toolbar__24Er5"}},551:function(e){e.exports={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AG:"Antigua & Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia & Herzegovina",BW:"Botswana",BR:"Brazil",IO:"British Indian Ocean Territory",VG:"British Virgin Islands",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",IC:"Canary Islands",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",KM:"Comoros",CG:"Congo - Brazzaville",CD:"Congo - Kinshasa",CK:"Cook Islands",CR:"Costa Rica",CI:"C\xf4te d\u2019Ivoire",HR:"Croatia",CU:"Cuba",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czechia",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HN:"Honduras",HK:"Hong Kong SAR China",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macau SAR China",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",KP:"North Korea",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territories",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"R\xe9union",RO:"Romania",RU:"Russia",RW:"Rwanda",WS:"Samoa",SM:"San Marino",ST:"S\xe3o Tom\xe9 & Pr\xedncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia & South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SH:"St. Helena",KN:"St. Kitts & Nevis",LC:"St. Lucia",PM:"St. Pierre & Miquelon",VC:"St. Vincent & Grenadines",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syria",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad & Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks & Caicos Islands",TV:"Tuvalu",UM:"U.S. Outlying Islands",VI:"U.S. Virgin Islands",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis & Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"}},569:function(e,n,t){e.exports=t(1166)},588:function(e,n,t){},919:function(e,n,t){},984:function(e,n,t){}},[[569,2,1]]]);
//# sourceMappingURL=main.b1293282.chunk.js.map